(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{185:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.dialogClean=b;e.dialogConfirm=f;e.dialogOpen=c;e.dialogValidate=d;e.submitRequest=l;var i=n(a(15));var r=n(a(16));var s=n(a(1));var o=a(24);function l(t,e,a,n,i){return u.apply(this,arguments)}function u(){u=(0,r.default)(i.default.mark(function t(e,a,n,r,l){var u,c,d=arguments;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:u=d.length>5&&d[5]!==undefined?d[5]:"post";r[n].loading=true;i.prev=2;i.next=5;return s.default[u](e,a,{});case 5:c=i.sent;if(c.result){if(l&&typeof l==="function"){l(r)}(0,o.messageSuccess)(r[n].msg)}else{(0,o.messageError)(c.message)}i.next=12;break;case 9:i.prev=9;i.t0=i["catch"](2);if(i.t0.hasOwnProperty("message")&&i.t0.message==="OK"){if(l&&typeof l==="function"){l(r)}(0,o.messageSuccess)(r[n].msg)}case 12:i.prev=12;r[n].loading=false;r[n].visible=false;return i.finish(12);case 16:case"end":return i.stop()}}},t,null,[[2,9,12,16]])}));return u.apply(this,arguments)}function c(t,e,a){if(a&&typeof a==="function"){a(t)}t[e].visible=true}function d(t,e,a,n){return p.apply(this,arguments)}function p(){p=(0,r.default)(i.default.mark(function t(e,a,n,r){var s;return i.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:if(r&&typeof r==="function"){r(e)}if(!(n!=="")){a.next=6;break}a.next=4;return e.$refs[n].validate().then(function(t){return true}).catch(function(t){return false});case 4:s=a.sent;return a.abrupt("return",s);case 6:return a.abrupt("return",true);case 7:case"end":return a.stop()}}},t)}));return p.apply(this,arguments)}function f(t,e,a){return m.apply(this,arguments)}function m(){m=(0,r.default)(i.default.mark(function t(e,a,n){var r,s,o=arguments;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:r=o.length>3&&o[3]!==undefined?o[3]:"post";if(!(n!=="")){i.next=7;break}i.next=4;return d(e,a,n,null);case 4:s=i.sent;if(s){i.next=7;break}return i.abrupt("return");case 7:if(e[a].dataCallback&&typeof e[a].dataCallback==="function"){e[a].dataCallback(e)}i.next=10;return l(e[a].mockUrl,e[a].params,a,e,e[a].submitCallback,r);case 10:case"end":return i.stop()}}},t)}));return m.apply(this,arguments)}function b(t,e){if(t[e].tearCallback&&typeof t[e].tearCallback==="function"){t[e].tearCallback(t)}t.$refs[e+"Ref"].clearError()}},264:function(t,e,a){"use strict";a.r(e);var n=a(265);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},265:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={components:{},props:{bizId:{type:String}},data:function t(){return{firstRange:[{image:"static/images/index_icon/01通用场景.png","T-text":"通用业务运营工具场景",text:"运营场景全支持"},{image:"static/images/index_icon/02自定义.png","T-text":"自定义业务运营工具场景",text:"支持标准运维、job自定义配置"},{image:"static/images/index_icon/03视图告警.png","T-text":"告警推送和基础性能视图展示",text:"支持移动端告警推送和性能视图查看"},{image:"static/images/index_icon/04平台审批.png","T-text":"平台审批",text:"支持平台审批功能，实现移动式工作流式审批，方便高效"}],secondRange:[{image:"static/images/index_icon/05多端互通.png","T-text":"多端互通",text:"企业微信、QQ、小程序、H5、slack全方位支持"},{image:"static/images/index_icon/06对话.png","T-text":"场景互动",text:"聊天互动、一次性输入参数，页面互动全方位支持"},{image:"static/images/index_icon/07告警.png","T-text":"定制化告警推送",text:"业务告警可定制化推送开发商"},{image:"static/images/index_icon/08插件.png","T-text":"插件式场景接入",text:"支持业务通用场景和私有场景定制化接入"}]}},watch:{},mounted:function t(){},methods:{}};e.default=n},266:function(t,e,a){},267:function(t,e,a){"use strict";a.r(e);var n=a(268);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},268:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={props:{bizId:{type:String,default:""}},data:function t(){return{}},created:function t(){},mounted:function t(){},methods:{doHeader:function t(e,a){this.$emit("doHeader",e,a)}}};e.default=n},272:function(t,e,a){"use strict";a.r(e);var n=a(273);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},273:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(15));var r=n(a(29));var s=n(a(16));var o=a(274);var l=a(185);var u=a(275);var c={components:{},props:{bizId:{type:String}},data:function t(){return{botYW:null,botTableData:{pagination:{current:1,count:500,"limit-list":[10],limit:10},raw:[],data:[],multipleSelection:[],title:[],loading:false,searchData:{data:[{name:"ID",id:"1",prop:"bot_id",multiable:false,children:[]},{name:"名称",id:"2",prop:"bot_name",multiable:false,children:[]},{name:"类型",id:"3",prop:"bot_type",multiable:false,children:[]},{name:"创建人",id:"4",prop:"create_by",multiable:false,children:[]}],query:"",result:[]}},createBot:{visible:false,loading:false,msg:"机器人创建成功",title:"机器人创建",method:"post",form:{data:{botId:"",botName:"",botType:"default",xworkWebHook:"",xworkToken:"",xworkEncodingAESKey:""},rules:{botName:[{required:true,message:"请输机器人名称",trigger:"blur"}],botType:[{required:true,message:"请选择机器人类型",trigger:"change"}]}},mockUrl:"".concat("","/api/v1/")+this.bizId+"/bot/?".concat("","=intent&invoke=common"),params:{},openCallback:function t(e,a){e.createBot.mockUrl="".concat("","/api/v1/")+e.bizId+"/bot/?".concat("","=intent&invoke=common")},dataCallback:function t(e){e.createBot.params["biz_id"]=e.bizId;e.createBot.params["bot_id"]=e.createBot.form.data.botId||(0,o.randomStr)(false,16);e.createBot.params["bot_type"]=e.createBot.form.data.botType;e.createBot.params["bot_name"]=e.createBot.form.data.botName;e.createBot.params["biz_name"]="-"},submitCallback:function t(e){e.getTableData(1)},tearCallback:function t(e){e.createBot.form.data={botId:"",botName:"",botType:"default",xworkWebHook:"",xworkToken:"",xworkEncodingAESKey:""};e.createBot.params={}}},deleteBot:{visible:false,msg:"机器人删除成功",loading:false,method:"delete",mockUrl:"",params:{},openCallback:function t(e,a){e.deleteBot.mockUrl="".concat("","/api/v1/")+e.bizId+"/bot/"+a.id+"/?".concat("","=intent&invoke=common")},submitCallback:function t(e){e.getTableData(1)}}}},watch:{bizId:function t(e){this.init()}},mounted:function t(){this.$emit("doHeader",false);this.init()},methods:{handleTableSelectionChange:u.handleTableSelectionChange,dialogOpen:l.dialogOpen,dialogClean:l.dialogClean,dialogConfirm:l.dialogConfirm,init:function t(){this.botYW=this;if(this.bizId!==""&&typeof this.bizId!=="undefined"){this.getTableData(1)}},goIntent:function t(e){this.$router.push({path:"intent/list/".concat(e.row.id)})},handleTablePageChangeAsync:function t(e){this.getTableData(e,this.botTableData.searchData.query)},getTableData:function t(e,a){var n=this;return(0,s.default)(i.default.mark(function t(){var s,o;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:s={bizId:n.bizId,data:{biz_id:n.bizId,page:e}};if((0,r.default)(a)==="object"){a.forEach(function(t){s.data[t.prop]=t.values.map(function(t){return t.id}).join(",")})}i.prev=2;n.botTableData.loading=true;i.next=6;return n.$store.dispatch("bot/getBotTableData",s,{});case 6:o=i.sent;n.botTableData.raw=o.data.results||[];n.botTableData.data=JSON.parse(JSON.stringify(n.botTableData.raw));n.botTableData.pagination.count=o.data.count;n.botTableData.pagination.current=e;n.botTableData.loading=false;i.next=17;break;case 14:i.prev=14;i.t0=i["catch"](2);console.error(i.t0);case 17:case"end":return i.stop()}}},t,null,[[2,14]])}))()}}};e.default=c},274:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.getPromiseResult=n;e.getUuid=s;e.goPage=r;e.randomStr=i;function n(t,e){var a=new Promise(function(a,n){t.$refs[e].validate(function(t){if(t){a()}})});return a}function i(t,e,a){var n="";var i=e;var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];if(t){i=Math.round(Math.random()*(a-e))+e}for(var s=0;s<i;s++){var o=Math.round(Math.random()*(r.length-1));n+=r[o]}return n}function r(t,e){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(a){var i=t.$router.resolve({path:e,query:n});window.open(i.href,"_blank")}else{t.$router.push({path:e})}}function s(){var t=[];var e="0123456789abcdef";for(var a=0;a<36;a++){t[a]=e.substr(Math.floor(Math.random()*16),1)}t[14]="4";t[19]=e.substr(t[19]&3|8,1);t[8]=t[13]=t[18]=t[23]="-";var n=t.join("");return n.replace(/-/g,"")}},275:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.handleFuzzySearchResult=o;e.handleTablePageChange=n;e.handleTablePageLimitChange=i;e.handleTableSelectionChange=r;e.handleTagSearchResult=s;function n(t,e,a){e[a].pagination.current=t;if(e[a].searchData.query.length>0||e[a].searchData.query!==""){e[a].data=e[a].searchData.result.slice((t-1)*e[a].pagination.limit,t*e[a].pagination.limit)}else{e[a].data=e[a].raw.slice((t-1)*e[a].pagination.limit,t*e[a].pagination.limit)}}function i(t,e,a){e[a].pagination.current=1;e[a].pagination.limit=t;if(e[a].searchData.query.length>0||e[a].searchData.query!==""){e[a].data=e[a].searchData.result.slice(0,t)}else{e[a].data=e[a].raw.slice(0,t)}}function r(t,e,a){e[a].multipleSelection=t}function s(t,e){t[e].searchData.result=[];for(var a=0;a<t[e].raw.length;a++){var n=t[e].raw[a];var i=true;for(var r=0;r<t[e].searchData.query.length;r++){var s=t[e].searchData.query[r];var o=s.values.map(function(t,e,a){return t.id});if(o.indexOf(n[s.prop])===-1){i=false;break}}if(i){t[e].searchData.result.push(n)}}t[e].pagination.count=t[e].searchData.result.length;t[e].data=t[e].searchData.result.slice(0,t[e].pagination.limit);t[e].pagination.current=1}function o(t,e){if(t[e].searchData.query===""){t[e].pagination.count=t[e].raw.length;t[e].data=t[e].raw.slice(0,t[e].pagination.limit);t[e].pagination.current=1;return}t[e].searchData.result=[];for(var a=0;a<t[e].raw.length;a++){var n=t[e].raw[a];for(var i in n){if((n[i]+"").search(t[e].searchData.query)!==-1){t[e].searchData.result.push(n)}}}t[e].pagination.count=t[e].searchData.result.length;t[e].data=t[e].searchData.result.slice(0,t[e].pagination.limit);t[e].pagination.current=1}},276:function(t,e,a){},277:function(t,e,a){"use strict";a.r(e);var n=a(278);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},278:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(15));var r=n(a(29));var s=n(a(16));var o=n(a(454));var l=a(185);var u=a(275);var c=a(274);var d={components:{intentCreateSlider:o.default},props:{bizId:{type:String}},data:function t(){return{intentYW:null,indexId:-1,isLargeDropdownShow:false,groupSummary:[],authorityPerson:[],authorityGroup:[],intentTableData:{pagination:{current:1,count:500,"limit-list":[10],limit:10},intent:[],raw:[],data:[],title:[],loading:false,filters:{statusFilter:{tag:[{text:"开启",value:"开启"},{text:"开启",value:"开启"}],filterMethod:this.tagFilterMethod}},multipleSelection:[],searchData:{data:[{name:"名称",id:"1",prop:"intent_name",multiable:true,children:[]},{name:"创建人",id:"2",prop:"create_by",multiable:true,children:[]}],query:"",result:[]}},searchData:{data:[{name:"名称",id:"1",prop:"intent_name",multiable:true,children:[]},{name:"创建人",id:"2",prop:"create_by",multiable:true,children:[]}],query:"",result:[]},intentDelete:{visible:false,msg:"技能删除成功",loading:false,method:"delete",mockUrl:"",openCallback:function t(e,a){e.intentDelete.mockUrl="".concat("","/api/v1/")+e.bizId+"/intent/"+a.id+"/?".concat("","=intent&invoke=common")},submitCallback:function t(e){e.getTableData(1)}},intentUpdateStatus:{visible:false,msg:"操作成功",loading:false,method:"put",mockUrl:"",params:{},openCallback:function t(e,a){e.intentUpdateStatus.params={status:a.status};e.intentUpdateStatus.mockUrl="".concat("","/api/v1/")+e.bizId+"/intent/"+a.id+"/?".concat("","=intent&invoke=common")}},dialogPersonSetting:{primary:{visible:false,headerPosition:"left"}},dialogGroupSetting:{primary:{visible:false,headerPosition:"left"}}}},watch:{bizId:function t(e){this.init()}},mounted:function t(){this.$emit("doHeader",false,"技能创建");this.init()},methods:{handleTableSelectionChange:u.handleTableSelectionChange,dialogOpen:l.dialogOpen,dialogClean:l.dialogClean,dialogConfirm:l.dialogConfirm,goPage:c.goPage,init:function t(){this.intentYW=this;if(this.bizId!==""&&typeof this.bizId!=="undefined"){this.getTableData(1)}},goGroupBind:function t(){this.goPage(this,"/group/bind",true)},handleTablePageChangeAsync:function t(e){this.getTableData(e,this.intentTableData.searchData.query)},tagFilterMethod:function t(e,a,n){var i=n.property;return a[i]===e},getTableData:function t(e,a){var n=this;return(0,s.default)(i.default.mark(function t(){var s,o;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:s={bizId:n.bizId,data:{biz_id:n.bizId,page:e,pagesize:n.intentTableData.pagination.limit}};if((0,r.default)(a)==="object"){a.forEach(function(t){s.data[t.prop]=t.values.map(function(t){return t.id}).join(",")})}i.prev=2;n.intentTableData.loading=true;i.next=6;return n.$store.dispatch("intent/getIntentList",s,{});case 6:o=i.sent;n.intentTableData.raw=o.data||[];n.intentTableData.data=JSON.parse(JSON.stringify(n.intentTableData.raw));n.intentTableData.pagination.count=o.count;n.intentTableData.pagination.current=e;n.intentTableData.loading=false;i.next=17;break;case 14:i.prev=14;i.t0=i["catch"](2);console.error(i.t0);case 17:case"end":return i.stop()}}},t,null,[[2,14]])}))()},openIntentCreate:function t(e,a){this.$refs.intentCreateRef.dialogOpen(e,null,a)},popConfirm:function t(e,a){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";this[e].openCallback(this.intentYW,a);this.dialogConfirm(this.intentYW,"intentUpdateStatus","","put")},deleteInfo:function t(e,a,n,i){this.dialogConfirm(e,a,n,i);setTimeout(this.getTableData(1),2e3)},largeDropdownShow:function t(){this.isLargeDropdownShow=true},largeDropdownHide:function t(){this.isLargeDropdownShow=false},getGroupSummary:function t(){var e=this;return(0,s.default)(i.default.mark(function t(){var a;return i.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return e.$store.dispatch("group/getGroupSummary",{biz_id:e.bizId,id_deleted:false},{});case 2:a=n.sent;e.groupSummary=a.data.map(function(t){return{id:t.chat_index_id,name:"".concat(t.chat_group_name,"(").concat(t.chat_index_id,")")}});case 4:case"end":return n.stop()}}},t)}))()}}};e.default=d},279:function(t,e,a){"use strict";a.r(e);var n=a(280);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},280:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(15));var r=n(a(16));var s=n(a(1));var o=a(185);var l=a(274);var u=a(24);var c=n(a(455));var d={components:{},filters:{toList:function t(e){var a=[];a.push(e);return a}},props:{botId:{type:String},bizId:{type:String}},data:function t(){return{developerList:[],envParmas:[{name:"${GROUP_ID}",info:"这是发起的群ID"},{name:"${USER_ID}",info:"这是发起的用户ID"}],successMessage:"复制成功",warningMessage:"该浏览器不支持自动复制",errorMessage:"没有该流水线权限，请前往蓝盾平台申请",errorDevMessage:"输入的QQ号有误，请核对",intent:null,botData:{botId:-1,botName:"",isShowBot:"display: none",visible:true,disable:false,data:[]},groupSummary:[],intentCreate:{serial_number:"",visible:false,msg:"技能创建成功",activeTaskMenu:"1",activeBasicMenu:"1",activeNewMenu:"1",loading:false,method:"post",taskForm:{taskType:"job",taskName:"",taskId:"",taskGroup:[],taskActivities:[],taskParams:[],taskProject:""},taskRules:{taskType:[{required:true,message:"请选择任务类型",trigger:"change"}],taskId:[{required:true,message:"请选择任务名",trigger:"change"}]},intentForm:{intentName:"",utterance:[],authorityUsername:[],authorityGroup:[],developer:[],doubleCommit:false,approver:[],approve:false},intentRules:{intentName:[{required:true,message:"请填写技能名称",trigger:"blur"}],utterance:[{message:"请输入语料",validator:this.validateListParam,trigger:"blur"}],authorityUsername:[{message:"请输入发起人",validator:this.validateListParam,trigger:"blur"}],authorityGroup:[{message:"请输入发起群",validator:this.validateListParam,trigger:"blur"}]}},taskTypeList:[{id:"job",name:"作业平台",enable:false},{id:"sops",name:"标准运维",enable:false},{id:"devops",name:"蓝盾",enable:false}],taskList:{source:[],data:[],map:{},detail:{},loading:false},sopsSchemes:{source:[],data:[],map:{},detail:{},loading:false},devopsProjectList:{source:[],data:[],map:{},detail:{},loading:false},taskParamsTable:{pagination:{current:1,count:200,"limit-list":[5,10],limit:5},params:[],needParams:[],data:[],title:[],multipleSelection:[],loading:false,query:""},taskParamsConfig:{rowRef:null,visible:false,loading:false,msg:"参数配置成功",test:"",form:{data:{name:"",pattern:"",prompt:"",value:""},rules:{name:[{required:true,message:"请输入参数名称",trigger:"blur"}],pattern:[{required:true,message:"请输入匹配正则",trigger:"blur"}],prompt:[{required:true,message:"请输入提示语",trigger:"blur"}]}}},longConfig:{width:240,placement:"right-start",content:"启用远程触发器后，此技能可通过特定的URL触发执行。如需开放到外部开发商进行远程触发，请联系mingli（李明）进行白名单加白"},disableConfirmButton:false,see:false}},watch:{"taskParamsTable.params":function t(e,a){var n=this;var i=[];for(var r=0;r<e.length;r++){var s=e[r]["value"]?e[r]["value"]:"";if(n.intentCreate.taskForm.taskType==="job"){i.push({id:e[r]["id"],name:e[r]["name"],value:s,type:1})}else{i.push({id:e[r]["id"],name:e[r]["name"],value:s})}}this.taskParamsTable.needParams=JSON.stringify(i).replaceAll('"','\\"').replaceAll("$","\\$")}},created:function t(){},methods:{goPage:l.goPage,goGroupBind:function t(){this.goPage(this,"/group/bind",true)},approveChange:function t(){this.intentCreate.intentForm.approver=[]},pasteUtteranceFn:function t(e){var a=e.split(";");this.intentCreate.intentForm.utterance=this.intentCreate.intentForm.utterance.concat(a)},handlePoolPageChange:function t(e){this.taskParamsTable.pagination.current=e;this.taskParamsTable.data=this.taskParamsTable.params.slice((e-1)*this.taskParamsTable.pagination.limit,e*this.taskParamsTable.pagination.limit)},handlePoolPageLimitChange:function t(e){this.taskParamsTable.pagination.current=1;this.taskParamsTable.data=this.taskParamsTable.params.slice(0,e)},handlePoolTableSelectionChange:function t(e){this.taskParamsTable.multipleSelection=e},validateListParam:function t(e){return(0,r.default)(i.default.mark(function t(){return i.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:if(!(e.length===0)){a.next=2;break}return a.abrupt("return",false);case 2:return a.abrupt("return",true);case 3:case"end":return a.stop()}}},t)}))()},enter:function t(){this.see=true},leave:function t(){this.see=false},changeEnvInfoStyle:function t(e){if(e.columnIndex===1){return{"font-weight":400}}},dialogOpen:function t(e,a,n){if(e==="taskParamsConfig"){this.taskParamsConfig.form.data.name=a.name;this.taskParamsConfig.form.data.pattern=a.pattern;this.taskParamsConfig.form.data.prompt=a.prompt;this.taskParamsConfig.form.data.value=a.value;this.rowRef=a}else if(e==="intentCreate"){this.botData.botId=this.botId;this.getBotTableList();this.botData.isShowBot="display: block";this.botData.disable=true;this.intentCreate.intentForm.authorityUsername.push(this.$store.state.user.username);if(n){this.intent=n;this.getIntentDetail(n)}else{this.intent=null;this.intentCreate.serial_number=(0,l.getUuid)()}this.disableConfirmButton=false}this.getGroupSummary();this.getDevloper();this[e].visible=true},getDevloper:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return e.$store.dispatch("intent/getDevloper",{cc_id:e.bizId},{});case 2:a=i.sent;n=a.data;e.developerList=n.map(function(t){return{id:t.wx_openid,name:"".concat(t.username,"(").concat(t.user_qq,")")}});case 5:case"end":return i.stop()}}},t)}))()},dialogValidate:function t(e,a){var n=this;if(e==="intentCreate"){Promise.all([this.$refs["taskFormRef"].validate(),this.$refs["intentFormRef"].validate()]).then(function(t){if(t.indexOf(false)===-1){n.dialogConfirm(e)}})}else if(a===""){this.dialogConfirm(e)}else{this.$refs[a].validate().then(function(t){n.dialogConfirm(e)},function(t){console.log("failed")})}},dialogConfirm:function t(e){var a=this;var n={};var i="";var r=null;if(e==="intentCreate"){r=function t(e){var n="";switch(a.intentCreate.method){case"put":n="技能修改成功";break;case"post":n="技能创建成功";break;default:break}e.$bkMessage({theme:"success",message:n});e.$emit("getTableData",1)};n={biz_id:this.bizId,id:-1,index_id:this.botId,intent_name:this.intentCreate.intentForm.intentName,developer:this.intentCreate.intentForm.developer,available_user:this.intentCreate.intentForm.authorityUsername,available_group:this.intentCreate.intentForm.authorityGroup,utterances:this.intentCreate.intentForm.utterance,status:true,is_commit:this.intentCreate.intentForm.doubleCommit,platform:this.intentCreate.taskForm.taskType,project_id:this.intentCreate.taskForm.taskProject,task_id:this.intentCreate.taskForm.taskId,activities:this.intentCreate.taskForm.taskActivities,slots:this.taskParamsTable.params,source:this.taskList.detail,serial_number:this.intentCreate.serial_number,approver:this.intentCreate.intentForm.approver};i="".concat("","/api/v1/")+this.bizId+"/intent/?".concat("","=intent&invoke=common");if(this.intent){this.intentCreate.method="put";n["id"]=this.intent.id;i="".concat("","/api/v1/")+this.bizId+"/intent/"+this.intent.id+"/?".concat("","=intent&invoke=common")}else{this.intentCreate.method="post";i="".concat("","/api/v1/")+this.bizId+"/intent/?".concat("","=intent&invoke=common")}}else if(e==="taskParamsConfig"){this.rowRef.name=this.taskParamsConfig.form.data.name;this.rowRef.pattern=this.taskParamsConfig.form.data.pattern;this.rowRef.prompt=this.taskParamsConfig.form.data.prompt;this.rowRef.value=this.taskParamsConfig.form.data.value;this[e].visible=false;return}(0,o.submitRequest)(i,n,e,this,r,this.intentCreate.method)},dialogCancel:function t(e){},dialogClean:function t(e){if(e==="intentCreate"){this.intentCreate.taskForm={taskType:"job",taskName:"",taskId:"",taskParams:[]};this.intentCreate.intentForm={intentName:"",utterance:[],authorityUsername:[],authorityGroup:[],developer:[],approve:false,approver:[],doubleCommit:false};this.taskParamsTable.data=[];this.taskParamsTable.params=[];try{this.$refs["intentFormRef"].clearError();this.$refs["taskFormRef"].clearError()}catch(t){console.log("...")}}else if(e==="taskParamsConfig"){this.$refs["taskParamsConfigRef"].clearError()}},handleTaskTypeChange:function t(e,a){this.disableConfirmButton=false;this.intentCreate.taskForm.taskId="";this.taskList.data=[];this.taskParamsTable.data=[];this.taskParamsTable.params=[];this.intentCreate.intentForm.intentName="";this.intentCreate.intentForm.utterance=[]},getBotTableList:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a;return i.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return e.$store.dispatch("bot/getBotTableData",{bizId:e.bizId,data:{biz_id:e.bizId}},{});case 2:a=n.sent;e.botData.data=a.data.results||[];e.botData.botId=e.botId;case 5:case"end":return n.stop()}}},t)}))()},getIntentDetail:function t(e){var a=this;return(0,r.default)(i.default.mark(function t(){var n,r,s,o;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:a.intentCreate.serial_number=e.serial_number;a.taskParamsTable.loading=true;a.intentCreate.intentForm.intentName=e.intent_name;a.intentCreate.intentForm.authorityGroup=e.available_group;a.intentCreate.intentForm.developer=e.developer;a.intentCreate.intentForm.authorityUsername=e.available_user;a.intentCreate.intentForm.doubleCommit=e.is_commit;a.intentCreate.intentForm.approve=e.approver.length!==0;a.intentCreate.intentForm.approver=e.approver;i.next=11;return a.$store.dispatch("intent/getUtteranceList",{bizId:a.bizId,data:{index_id:e.id}},{});case 11:n=i.sent;r=n.data||[];a.intentCreate.intentForm.utterance=r.length>0?r[0].content:[];i.next=16;return a.$store.dispatch("intent/getDBTaskList",{bizId:a.bizId,data:{index_id:e.id}},{});case 16:n=i.sent;s=n.data||[];s=s.length>0?s[0]:{};a.intentCreate.taskForm.taskType=s.platform;if(a.intentCreate.taskForm.taskType==="devops"){a.intentCreate.taskForm.taskProject=s.project_id;a.intentCreate.taskForm.taskId=s.task_id;a.getDevopsProjectList()}else{a.intentCreate.taskForm.taskProject=parseInt(s.project_id);a.intentCreate.taskForm.taskId=parseInt(s.task_id)}a.intentCreate.taskForm.taskActivities=s.activities;a.intentCreate.taskForm.taskGroup=[];for(o=0;o<s.activities.length;o++){if(s.activities[o]){a.intentCreate.taskForm.taskGroup.push(s.activities[o].id)}}a.taskList.detail=s.source;a.taskParamsTable.params=s["slots"];a.taskParamsTable.pagination.count=a.taskParamsTable.params.length;a.taskParamsTable.data=a.taskParamsTable.params.slice(0,a.taskParamsTable.pagination.limit);a.taskParamsTable.loading=false;if(a.intentCreate.taskForm.taskType==="sops"){a.getSopsSchemes()}a.getTaskList(true);case 31:case"end":return i.stop()}}},t)}))()},getGroupSummary:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a;return i.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return e.$store.dispatch("group/getGroupSummary",{biz_id:e.bizId,id_deleted:false},{});case 2:a=n.sent;e.groupSummary=a.data.map(function(t){return{id:t.chat_index_id,name:"".concat(t.chat_group_name,"(").concat(t.chat_index_id,")")}});case 4:case"end":return n.stop()}}},t)}))()},getTaskList:function t(e){var a=this;if(!e){this.taskList.data=[];return}var n={};var i="";switch(this.intentCreate.taskForm.taskType){case"job":i="".concat("","/api/v1/task/")+this.bizId+"/describe_jobs/?".concat("","=intent&invoke=jobListV3");break;case"sops":i="".concat("","/api/v1/task/")+this.bizId+"/describe_sopss/?".concat("","=intent&invoke=sopsList");break;case"devops":i="".concat("","/api/v1/task/")+this.intentCreate.taskForm.taskProject+"/describe_devops_pipelines/?".concat("","=intent&invoke=devopsList");break}this.taskList.loading=true;s.default.get(i,n,{}).then(function(t){a.taskList.source=t.data||[];a.taskList.data=a.taskList.source;a.taskList.loading=false;a.intentCreate.taskForm.taskName=a.taskList.data})},getTaskDetail:function t(e,a){var n=this;this.disableConfirmButton=false;if(e===""||typeof e==="undefined"){return}var i={id:e};var r="";switch(this.intentCreate.taskForm.taskType){case"job":r="".concat("","/api/v1/task/")+this.bizId+"/describe_job/?".concat("","=intent&invoke=jobDetailV3&id=").concat(e);break;case"sops":r="".concat("","/api/v1/task/")+this.bizId+"/describe_sops/?".concat("","=intent&invoke=sopsDetail&id=").concat(e);if(this.intentCreate.taskForm.taskId!==""){this.getSopsSchemes()}break;case"devops":r="".concat("","/api/v1/task/")+this.intentCreate.taskForm.taskProject+"/describe_devops_pipelines_params/?".concat("","=intent&invoke=devopsDetail&pipeline_id=").concat(this.intentCreate.taskForm.taskId);break}this.taskParamsTable.loading=true;s.default.get(r,i,{}).then(function(t){n.taskParamsTable.data=[];n.taskParamsTable.params=[];var e=t.data||{};if("global_var_list"in e){if(e["global_var_list"]!==null){n.taskParamsTable.params=e["global_var_list"].map(function(t,e,a){return{priority:e+1,id:t["id"],name:t["name"],pattern:".*",prompt:"请输入"+t["name"],type:t["type"],value:t["value"]}})}}else if("pipeline_tree"in e&&"constants"in e["pipeline_tree"]){var a=1;for(var i in e["pipeline_tree"]["constants"]){if(e["pipeline_tree"]["constants"][i]["show_type"]==="show"){n.taskParamsTable.params.push({id:i,priority:a,name:e["pipeline_tree"]["constants"][i]["name"],pattern:e["pipeline_tree"]["constants"][i]["validation"],prompt:"请输入"+e["pipeline_tree"]["constants"][i]["name"],value:""});a++}}}else if(n.intentCreate.taskForm.taskType==="devops"){var r=1;for(var s=0;s<e.length;s++){if(e[s]["propertyType"]===undefined){n.taskParamsTable.params.push({priority:r,id:e[s]["id"],name:e[s]["id"],pattern:".*",prompt:"请输入"+e[s]["id"],type:e[s]["type"],value:e[s]["defaultValue"]});r++}}for(var o=0;o<n.intentCreate.taskForm.taskName.length;o++){if(n.intentCreate.taskForm.taskName[o].id===n.intentCreate.taskForm.taskId){e.name=n.intentCreate.taskForm.taskName[o].name}}}n.intentCreate.intentForm.intentName=e.name;n.intentCreate.intentForm.utterance.push(e.name);n.taskList.detail=e;n.taskParamsTable.pagination.count=n.taskParamsTable.params.length;n.taskParamsTable.data=n.taskParamsTable.params.slice(0,n.taskParamsTable.pagination.limit);n.taskParamsTable.loading=false}).catch(function(t){n.disableConfirmButton=true;n.taskParamsTable.loading=false})},getSopsSchemes:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a;return i.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:e.sopsSchemes.loading=true;n.next=3;return e.$store.dispatch("intent/getSopsSchemes",{bizId:e.bizId,data:{id:e.intentCreate.taskForm.taskId}},{});case 3:a=n.sent;e.sopsSchemes.data=a.data||[];e.sopsSchemes.data.forEach(function(t){try{e.sopsSchemes.map[t.id]=t}catch(e){console.log(t)}});e.sopsSchemes.loading=false;case 7:case"end":return n.stop()}}},t)}))()},getDevopsProjectList:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a;return i.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:e.devopsProjectList.loading=true;n.next=3;return e.$store.dispatch("intent/getDevopsProjectList",{bizId:e.bizId});case 3:a=n.sent;e.devopsProjectList.source=a.data||[];e.devopsProjectList.data=e.devopsProjectList.source;e.devopsProjectList.loading=false;case 7:case"end":return n.stop()}}},t)}))()},handleProjectChange:function t(){this.disableConfirmButton=false;this.taskParamsTable.data=[];this.intentCreate.taskForm.taskId="";this.intentCreate.intentForm.intentName="";this.intentCreate.intentForm.utterance=[]},handleSopsSchemesSelect:function t(e,a){var n=this;try{this.intentCreate.taskForm.taskActivities=e.map(function(t){return n.sopsSchemes.map[t]})}catch(t){console.log(e)}},deleteParamItem:function t(e){this.taskParamsTable.params.splice(e,1);this.taskParamsTable.pagination.count=this.taskParamsTable.params.length;this.taskParamsTable.data=this.taskParamsTable.params.slice(0,this.taskParamsTable.pagination.limit)},testPattern:function t(){var e=new RegExp(this.taskParamsConfig.form.data.pattern);var a=e.exec(this.taskParamsConfig.test);if(a){(0,u.messageSuccess)(a[0])}else{(0,u.messageError)("正则匹配失败")}},handleCopy:function t(){var e=this;var a=new c.default("#copy-icon");a.on("success",function(t){e.handleSuccess({theme:"success"});a.destroy()});a.on("error",function(t){e.handleWarning({theme:"warning"});a.destroy()})},handleCopyEnv:function t(e){var a=this;var n=new c.default(".copy-env");n.on("success",function(t){a.handleSuccess({theme:"success"});n.destroy()});n.on("error",function(t){a.handleWarning({theme:"warning"});n.destroy()})},handleSuccess:function t(e){e.message=this.successMessage;e.offsetY=80;this.$bkMessage(e)},handleWarning:function t(e){e.message=this.warningMessage;e.offsetY=80;this.$bkMessage(e)},handleError:function t(e){e.message=this.errorMessage;e.offsetY=80;this.$bkMessage(e)},handleErrorDeveloper:function t(e){e.message=this.errorDevMessage;e.offsetY=80;this.$bkMessage(e)}}};e.default=d},281:function(t,e,a){},282:function(t,e,a){},283:function(t,e,a){"use strict";a.r(e);var n=a(284);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},284:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(1));var r=n(a(4));var s=a(185);var o={components:{},data:function t(){return{isAuth:true,selectDB:"",selectCollection:"",isOpen:"is-expand",openAngle:"icon-angle-left",baseNameTable:{data:[],loading:false},knowledgeBaseTable:{pagination:{current:1,count:500,"limit-list":[5,10,50,100],limit:10},base:[],data:[],title:[],loading:false},searchData:{data:[{name:"创建人",id:"1",prop:"username",multiable:true,children:[]},{name:"问题",id:"2",prop:"question",multiable:true,children:[]},{name:"答案",id:"3",prop:"solution",multiable:true,children:[]}],query:"",result:[]},multipleSelection:[],deleteQA:{visible:false,msg:"QA删除成功",loading:false,title:"QA删除",data:[],tip:""},createQA:{visible:false,loading:false,msg:"QA创建成功",title:"QA创建",form:{data:{id:"",questions:[{value:""}],solution:""},rules:{solution:[{required:true,message:"请输问题答案",trigger:"blur"}],question:[{required:true,message:"请输问题",trigger:"blur"}]}}}}},mounted:function t(){this.$emit("doHeader",false);this.getBaseNameTableData()},methods:{switchTab:function t(){if(this.isOpen==="is-expand"){this.isOpen="is-collapse";this.openAngle="icon-angle-right"}else{this.isOpen="is-expand";this.openAngle="icon-angle-left"}},handlePageChange:function t(e){this.knowledgeBaseTable.pagination.current=e;this.knowledgeBaseTable.data=this.knowledgeBaseTable.base.slice((e-1)*this.knowledgeBaseTable.pagination.limit,e*this.knowledgeBaseTable.pagination.limit)},handlePageLimitChange:function t(e){this.knowledgeBaseTable.pagination.current=1;this.knowledgeBaseTable.data=this.knowledgeBaseTable.base.slice(0,e)},handleTableSelectionChange:function t(e){this.multipleSelection=e},handleBaseNameSelect:function t(e){this.baseNameTable.data=this.baseNameTable.data.map(function(t){t.class="task-list-tag-edit display";return t});e.class="task-list-tag-edit display active";this.selectDB=e.faq_db;this.selectCollection=e.faq_collection;this.getQATableData(e.faq_db,e.faq_collection)},getBaseNameTableData:function t(){var e=this;var a={member__contains:this.$store.state.user.username};var n="".concat("","/api/v1/faq/?").concat("","=intent&invoke=baseList&").concat(r.default.stringify(a));this.baseNameTable.loading=true;i.default.get(n,a,{}).then(function(t){e.baseNameTable.data=t.data.results||[];e.baseNameTable.data=e.baseNameTable.data.map(function(t){t.class="task-list-tag-edit display";return t});if(e.baseNameTable.data.length>0){e.baseNameTable.data[0].class="task-list-tag-edit display active";e.selectDB=e.baseNameTable.data[0].faq_db;e.selectCollection=e.baseNameTable.data[0].faq_collection;e.getQATableData(e.selectDB,e.selectCollection)}e.baseNameTable.loading=false}).catch(function(t){e.isAuth=false})},getQATableData:function t(e,a){var n=this;var r={faq_db:e,faq_collection:a};var s="".concat("","/api/v1/faq/describe_qas/?").concat("","=intent&invoke=qaList");this.knowledgeBaseTable.loading=true;i.default.post(s,r,{}).then(function(t){n.knowledgeBaseTable.base=t.data||[];n.knowledgeBaseTable.pagination.count=n.knowledgeBaseTable.base.length;var e=function t(e){var a=n.searchData.data[e].prop;n.searchData.data[e].children=n.knowledgeBaseTable.base.map(function(t,e,n){return{name:t[a],id:t[a]}})};for(var a in n.searchData.data){e(a)}n.knowledgeBaseTable.data=n.knowledgeBaseTable.base.slice(0,n.knowledgeBaseTable.pagination.limit);n.knowledgeBaseTable.pagination.current=1;n.knowledgeBaseTable.loading=false}).catch(function(t){n.isAuth=false})},searchResult:function t(){this.searchData.result=[];for(var e=0;e<this.knowledgeBaseTable.base.length;e++){var a=this.knowledgeBaseTable.base[e];var n=true;for(var i=0;i<this.searchData.query.length;i++){var r=this.searchData.query[i];var s=r["values"].map(function(t,e,a){return t["id"]});if(s.indexOf(a[r["prop"]])===-1){n=false;break}}if(n){this.searchData.result.push(a)}}this.knowledgeBaseTable.pagination.count=this.searchData.result.length;this.knowledgeBaseTable.data=this.searchData.result.slice(0,this.knowledgeBaseTable.pagination.limit);this.knowledgeBaseTable.pagination.current=1},dialogOpen:function t(e,a){if(e==="createQA"){if(typeof a!=="undefined"){this.createQA.title="QA修改";this.createQA.form.data.id=a._id;this.createQA.form.data.solution=a.solution;this.createQA.form.data.questions[0].value=a.question}else{this.createQA.title="QA创建"}}else if(e==="deleteQA"){this.deleteQA.data=this.multipleSelection.map(function(t){return t["_id"]});this.deleteQA.tip=this.deleteQA.data.join(", ")}this[e].visible=true},dialogValidate:function t(e,a){var n=this;if(a===""){this.dialogConfirm(e,a)}else{this.$refs[a].validate().then(function(t){n.dialogConfirm(e,a)},function(t){console.log("failed")})}},dialogConfirm:function t(e,a){var n=this.createQA.form.data;var i="";var r=function t(a){a.$bkMessage({theme:"success",message:a[e].msg});a.getQATableData(a.selectDB,a.selectCollection)};if(e==="createQA"){n["username"]=this.$store.state.user.username;n["faq_db"]=this.selectDB;n["faq_collection"]=this.selectCollection;if(n.id===""){i="".concat("","/api/v1/faq/create_qa/?").concat("","=intent&invoke=common")}else{i="".concat("","/api/v1/faq/update_qa/?").concat("","=intent&invoke=common")}}else if(e==="deleteQA"){n={ids:this.deleteQA.data,faq_db:this.selectDB,faq_collection:this.selectCollection};i="".concat("","/api/v1/faq/delete_qa/?").concat("","=intent&invoke=common")}(0,s.submitRequest)(i,n,e,this,r)},dialogClean:function t(e){if(e==="createQARef"){this.createQA.form.data={questions:[{value:""}],solution:"",username:this.$store.state.user.username,id:""};this.$refs[e].clearError()}else if(e==="deleteQARef"){this.deleteQA.data=[];this.deleteQA.tip=""}},addQuestion:function t(){this.createQA.form.data.questions.push({value:""})}}};e.default=o},285:function(t,e,a){},286:function(t,e,a){"use strict";a.r(e);var n=a(287);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},287:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(15));var r=n(a(29));var s=n(a(16));var o=a(275);var l=a(185);var u={components:{},props:{bizId:{type:String}},data:function t(){return{groupYW:null,groupTableData:{pagination:{current:1,count:500,"limit-list":[10],limit:10},raw:[],data:[],multipleSelection:[],title:[],filter:{date:[]},render:false,loading:false,searchData:{data:[{name:"更新人",id:"1",prop:"updated_by",multiable:false,children:[]},{name:"群ID",id:"2",prop:"chat_group_id",multiable:false,children:[]},{name:"群名称",id:"3",prop:"chat_group_name",multiable:false,children:[]}],query:"",result:[]}},bizData:{data:[]},bindBizToGroup:{visible:false,msg:"业务绑定成功",loading:false,title:"业务绑定",method:"post",data:[],form:{data:{id:-1,chat_bot_type:"xwork",biz_id:"",biz_name:"",chat_group_id:"",chat_group_name:""},rules:{chat_bot_type:[{required:true,message:"请选择群类型",trigger:"blur"}],biz_id:[{required:true,message:"请选择业务",trigger:"blur"}],chat_group_id:[{required:true,message:"请输入群ID",trigger:"blur"},{validator:this.checkGroupId,message:"该群已被其他业务绑定",trigger:"blur"}],chat_group_name:[{required:true,message:"请输入群群名称",trigger:"blur"}]}},mockUrl:"".concat("","/api/v1/chat_bind/?").concat("","=intent&invoke=common"),params:{},openCallback:function t(e,a){if(typeof a!=="undefined"){e.bindBizToGroup.form.data.chat_group_id=a.chat_group_id;e.bindBizToGroup.form.data.chat_group_name=a.chat_group_name;e.bindBizToGroup.mockUrl="".concat("","/api/v1/chat_bind/")+a.chat_group_id+"/?".concat("","=intent&invoke=common");e.bindBizToGroup.method="patch"}else{e.bindBizToGroup.form.data.chat_group_id="";e.bindBizToGroup.mockUrl="".concat("","/api/v1/chat_bind/?").concat("","=intent&invoke=common");e.bindBizToGroup.method="post"}e.bindBizToGroup.form.data.biz_id=e.bizId;e.getBiz()},dataCallback:function t(e){e.bindBizToGroup.params["biz_id"]=e.bindBizToGroup.form.data.biz_id;e.bindBizToGroup.params["chat_bot_type"]=e.bindBizToGroup.form.data.chat_bot_type;var a=e.bizData.data.find(function(t){return t["bk_biz_id"]===parseInt(e.bindBizToGroup.form.data.biz_id)});if(typeof a!=="undefined"){e.bindBizToGroup.params["biz_name"]=a["bk_biz_name"]}if(e.bindBizToGroup.form.data.chat_group_id!==""){e.bindBizToGroup.params["chat_group_id"]=e.bindBizToGroup.form.data.chat_group_id;e.bindBizToGroup.params["chat_group_name"]=e.bindBizToGroup.form.data.chat_group_name}},submitCallback:function t(e){e.getGroupTableData(1)},tearCallback:function t(e){e.bindBizToGroup.form.data={id:-1,chat_bot_type:"xwork",biz_id:"",biz_name:"",chat_group_id:"",chat_group_name:""};e.bindBizToGroup.params={}}},unBindBizToGroup:{visible:false,msg:"业务解绑成功",loading:false,mockUrl:"",openCallback:function t(e,a){e.unBindBizToGroup.mockUrl="".concat("","/api/v1/chat_bind/")+a.chat_group_id+"/?".concat("","=intent&invoke=common")},submitCallback:function t(e){e.getGroupTableData(1)}}}},watch:{bizId:function t(e){this.init()}},created:function t(){},mounted:function t(){this.$emit("doHeader",false);this.init()},methods:{dialogOpen:l.dialogOpen,dialogClean:l.dialogClean,dialogConfirm:l.dialogConfirm,handleTableSelectionChange:o.handleTableSelectionChange,init:function t(){this.groupYW=this;if(this.bizId!==""&&typeof this.bizId!=="undefined"){this.getGroupTableData(1)}},getGroupTableData:function t(e,a){var n=this;return(0,s.default)(i.default.mark(function t(){var s,o;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:s={page:e,biz_id:n.bizId};if((0,r.default)(a)==="object"){a.forEach(function(t){s[t.prop]=t.values.map(function(t){return t.id}).join(",")})}i.prev=2;n.groupTableData.loading=true;i.next=6;return n.$store.dispatch("group/getGroupTableData",s,{});case 6:o=i.sent;n.groupTableData.raw=o.data.results||[];n.groupTableData.data=JSON.parse(JSON.stringify(n.groupTableData.raw));n.groupTableData.pagination.count=o.data.count;n.groupTableData.pagination.current=e;n.groupTableData.loading=false;i.next=17;break;case 14:i.prev=14;i.t0=i["catch"](2);console.error(i.t0);case 17:case"end":return i.stop()}}},t,null,[[2,14]])}))()},checkGroupId:function t(e){var a=this;return(0,s.default)(i.default.mark(function t(){var n,r;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return a.$store.dispatch("group/getGroupTableData",{chat_group_id:e},{});case 2:n=i.sent;r=n.data.results||[];return i.abrupt("return",!(r.length>0));case 5:case"end":return i.stop()}}},t)}))()},getBiz:function t(){var e=this;return(0,s.default)(i.default.mark(function t(){var a;return i.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return e.$store.dispatch("bot/getBiz",{},{});case 2:a=n.sent;e.bizData.data=a.data||[];case 4:case"end":return n.stop()}}},t)}))()},handleTablePageChangeAsync:function t(e){this.getGroupTableData(e,this.groupTableData.searchData.query)}}};e.default=u},288:function(t,e,a){},289:function(t,e,a){"use strict";a.r(e);var n=a(290);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},290:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(31));var r=n(a(15));var s=n(a(16));var o=n(a(6));a(460);var l=n(a(462));a(463);var u=n(a(184));a(464);var c=n(a(444));a(465);var d=n(a(593));a(467);var p=n(a(469));a(470);var f=n(a(390));a(471);var m=n(a(576));a(474);var b=n(a(575));a(475);var h=n(a(397));a(476);var g=n(a(445));a(477);var v=n(a(579));a(479);var k=n(a(480));a(481);var _=n(a(395));a(482);var y=n(a(594));var w=a(25);var C=a(32);var x;function D(t,e){var a=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=T(t))||e&&t&&typeof t.length==="number"){if(a)t=a;var n=0;var i=function t(){};return{s:i,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function t(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,o;return{s:function e(){a=a.call(t)},n:function t(){var e=a.next();r=e.done;return e},e:function t(e){s=true;o=e},f:function t(){try{if(!r&&a.return!=null)a.return()}finally{if(s)throw o}}}}function T(t,e){if(!t)return;if(typeof t==="string")return S(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor)a=t.constructor.name;if(a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(t,e)}function S(t,e){if(e==null||e>t.length)e=t.length;for(var a=0,n=new Array(e);a<e;a++){n[a]=t[a]}return n}function P(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?P(Object(a),!0).forEach(function(e){(0,o.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var L={name:"form",components:(x={},(0,o.default)(x,y.default.name,y.default),(0,o.default)(x,_.default.name,_.default),(0,o.default)(x,k.default.name,k.default),(0,o.default)(x,v.default.name,v.default),(0,o.default)(x,g.default.name,g.default),(0,o.default)(x,h.default.name,h.default),(0,o.default)(x,b.default.name,b.default),(0,o.default)(x,m.default.name,m.default),(0,o.default)(x,f.default.name,f.default),(0,o.default)(x,p.default.name,p.default),(0,o.default)(x,d.default.name,d.default),(0,o.default)(x,c.default.name,c.default),(0,o.default)(x,u.default.name,u.default),(0,o.default)(x,l.default.name,l.default),x),data:function t(){return{datas:[],lazyRender:false,minDate:new Date(2021,0,1),maxDate:new Date(2025,10,1),biz_id:"-1",bizList:[],isCommit:false,loading:true,secret:"",key:"",action:"",name:"单据填写",choose_biz:true,requiredList:[]}},computed:z({},(0,w.mapGetters)(["bizList","user"])),created:function t(){this.secret=this.$route.params.id;this.getBiz(this.secret)},updated:function t(){this.checkScroll()},methods:{onSubmit:function t(e){var a=this;return(0,s.default)(r.default.mark(function t(){var n,i,s,o,l,u,d,p,f,m,b;return r.default.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:for(n=0;n<a.datas.length;n++){i=a.datas[n].attrs.name;if(a.datas[n].type==="picker"){s=a.datas[n].attrs.values.indexOf(e[i]);e[i]=a.datas[n].attrs.keys[s]}else if(a.datas[n].type==="datetime-picker"){e[i]=(0,C.formatDate)(new Date(e[i]),"yyyy-MM-dd hh:mm:ss")}if(a.datas[n].master){o=a.datas[n].attrs.bind_value;if(o){for(l=0;l<o.length;l++){if(e[i]===o[l][i]){u=a.datas[n].attrs.bind_key;for(d=0;d<u.length;d++){p=u[d];e[p]=o[l][p]}}}}}}for(f in e){if(a.requiredList.indexOf(f)===-1){delete e[f]}}m={cc_id:a.biz_id+"",data:e,user_name:a.$store.state.user.username,action:a.action,key:a.key};console.log(m);r.prev=4;r.next=7;return a.$store.dispatch("form/getCall",m);case 7:b=r.sent;if(b.result){a.isCommit=true}else{(0,c.default)("表单填写有误")}r.next=14;break;case 11:r.prev=11;r.t0=r["catch"](4);console.log(r.t0);case 14:case"end":return r.stop()}}},t,null,[[4,11]])}))()},onConfirm:function t(e){var a="picker"+e;this.datas[e].val=this.$refs[a][0].getValues()[0];console.log(this.datas[e]);if(this.datas[e].attrs.bind_key){var n=D(this.datas[e].attrs.bind_key),i;try{for(n.s();!(i=n.n()).done;){var r=i.value;for(var s=0;s<this.datas.length;s++){if(this.datas[s].attrs.name===r){this.datas[s].val=this.datas[e].val}}}}catch(t){n.e(t)}finally{n.f()}}this.datas[e].show=false;if(e===0&&this.choose_biz){this.biz_id=this.datas[0].attrs.keys[this.datas[0].attrs.values.indexOf(this.datas[e].val)];this.getBizInfo()}},getBiz:function t(e){var a=this;var n=this;n.$store.dispatch("bot/getBiz",{},{}).then(function(t){var r=t.data||[];for(var s=0;s<r.length;s++){n.bizList.push({name:r[s].bk_biz_name,id:r[s].bk_biz_id})}n.$store.dispatch("form/getFormData",{secret:e},{}).then(function(t){n.key=t.data.key;n.action=t.data.action;n.name=t.data.name;n.choose_biz=t.data.choose_biz;var e=t.data.form_config||[];if(e.length!==0){for(var r=0;r<e.length;r++){if(e[r].master){e[r].attrs.bind_key=[];for(var s=0;s<e.length;s++){if(r!==s&&e[r].hookUrl===e[s].hookUrl&&e[r].hookAction===e[s].hookAction&&!e[s].master){e[r].attrs.bind_key.push(e[s].attrs.name);console.log(e[s].attrs.name)}}}else{e[r].type="NULL"}if(e[r].required){n.requiredList.push(e[r].attrs.name)}}if(a.choose_biz){a.biz_id="";e.unshift({type:"picker",attrs:{name:"biz_id",columns:n.bizList,label:"业务名称","show-toolbar":false,"toolbar-position":"top",title:"","item-height":44},val:"",show:false,hookable:true,hookurl:"",data:{}})}for(var o=0;o<e.length;o++){if(e[o].type==="picker"){e=n.columnToKey(e,o)}}n.datas=(0,i.default)(e);n.$nextTick(function(){n.$forceUpdate()});n.loading=false;if(!a.choose_biz){a.getBizInfo()}}else{console.error("数据为空")}console.log(a.datas)})})},columnToKey:function t(e,a){e[a].attrs.keys=[];e[a].attrs.values=[];for(var n=0;n<e[a].attrs.columns.length;n++){e[a].attrs.keys.push(e[a].attrs.columns[n].id);e[a].attrs.values.push(e[a].attrs.columns[n].name)}return e},getBizInfo:function t(){var e=this;return(0,s.default)(r.default.mark(function t(){var a,n,i,s;return r.default.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:a=0;case 1:if(!(a<e.datas.length)){r.next=15;break}n=e.datas[a];if(!(n.hookAble===true)){r.next=12;break}i={key:n.hookUrl,action:n.hookAction,user_name:e.$store.state.user.username,cc_id:e.biz_id+""};if(!(n.depend.length===0)){r.next=11;break}i.data={};r.next=9;return e.$store.dispatch("form/getCall",i);case 9:s=r.sent;if(s.data.data===undefined){e.datas[a].loading=false;console.log("没有数据")}else{e.datas[a].attrs.bind_value=s.data.data;e.datas[a].attrs.columns=e.parserData(n.parser.extract,s);e.columnToKey(e.datas,a)}case 11:e.datas[a].loading=false;case 12:a++;r.next=1;break;case 15:case"end":return r.stop()}}},t)}))()},parserData:function t(e,a){if(e.method==="getOwnPropertyDescriptor"){var n=Object.getOwnPropertyDescriptor(a,e.key);if(e.next!==undefined){return this.parserData(e.next[0],n.value)}else{return n.value}}else if(e.method==="assign"){var i=[];var r=e.assign[0]["key"];var s=e.assign[1]["key"];a.map(function(t){i.push({id:t[r],name:t[s]})});if(e.next!==undefined){return this.parserData(e.next[0],i.value)}else{return i}}else{var o=Object.entries(a);if(e.next!==undefined){return this.parserData(e.next[0],o)}else{return o}}},onConfirmDateTime:function t(e){var a="picker"+e;if(this.datas[e].attrs.type==="date"){this.datas[e].val=this.$refs[a][0].getPicker().getValues().join("-")}else{var n=this.$refs[a][0].getPicker().getValues();var i=n.slice(0,3).join("/")+" "+n.slice(3,5).join(":");this.datas[e].val=i}this.datas[e].show=false},onConfirmCalendar:function t(e){var a="picker"+e;var n=this.$refs[a][0]._data.currentDate;var i="".concat(n.getMonth()+1,"/").concat(n.getDate());this.datas[e].val=i;this.datas[e].show=false},checkScroll:function t(){this.$nextTick(function(){var t=(0,i.default)(document.querySelectorAll(".van-picker-column__item--selected"));t.forEach(function(t){var e=t.querySelector(".van-ellipsis");if(e.offsetWidth>t.offsetWidth){t.classList.add("scroll")}else{t.classList.remove("scroll")}})})},changePickerShow:function t(e){this.datas[e].show=true;if(this.datas[e].attrs.columns.length===0){this.datas[e].loading=true;console.log(this.choose_biz);if(this.choose_biz&&this.biz_id===""){(0,c.default)("请先填写业务名称")}else if(this.datas[e].depend.length!==0){this.getDependInfo(e)}else{this.datas[e].loading=false}}},again:function t(){for(var e=0;e<this.datas.length;e++){this.datas[e].val=""}this.isCommit=false},getDependInfo:function t(e){var a=this;return(0,s.default)(r.default.mark(function t(){var n,i,s,l,u;return r.default.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:n=a.datas[e];i={key:n.hookUrl,action:n.hookAction,user_name:a.$store.state.user.username,cc_id:a.biz_id+""};s=0;case 3:if(!(s<a.datas.length)){r.next=21;break}l=a.datas[s];if(!(l.attrs.name===n.depend[0])){r.next=18;break}if(!(l.val==="")){r.next=10;break}(0,c.default)("请先填写"+l.attrs.label);r.next=18;break;case 10:i.data=(0,o.default)({},n.depend[0],l.attrs.keys[l.attrs.values.indexOf(l.val)]);r.next=13;return a.$store.dispatch("form/getCall",i);case 13:u=r.sent;a.datas[e].attrs.columns=a.parserData(n.parser.extract,u);a.datas[e].attrs.bind_value=u.data.data;a.columnToKey(a.datas,e);a.datas[e].loading=false;case 18:s++;r.next=3;break;case 21:case"end":return r.stop()}}},t)}))()}}};e.default=L},299:function(t,e,a){},300:function(t,e,a){"use strict";a.r(e);var n=a(301);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},301:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(29));var r=n(a(15));var s=n(a(16));var o=n(a(75));var l=a(486);function u(t,e){var a=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=c(t))||e&&t&&typeof t.length==="number"){if(a)t=a;var n=0;var i=function t(){};return{s:i,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function t(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,o;return{s:function e(){a=a.call(t)},n:function t(){var e=a.next();r=e.done;return e},e:function t(e){s=true;o=e},f:function t(){try{if(!r&&a.return!=null)a.return()}finally{if(s)throw o}}}}function c(t,e){if(!t)return;if(typeof t==="string")return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor)a=t.constructor.name;if(a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}function d(t,e){if(e==null||e>t.length)e=t.length;for(var a=0,n=new Array(e);a<e;a++){n[a]=t[a]}return n}var p={components:{corpusCreateSlider:o.default},data:function t(){return{isLargeDropdownShow:false,isDropdownShow:false,showDialog:false,searchData:[{name:"语句",id:"1",multiable:true,prop:"text"},{name:"意图",id:"3",multiable:true,prop:"intent_name"},{name:"创建人",id:"4",multiable:true,prop:"created_by"},{name:"最后修改人",id:"5",multiable:true,prop:"updated_by"}],colorList:["#FFAEBC","#A0E7E5","#B4F8C8","#FBE7C6","#2E8BC0","#B1D4E0","#BCECE0","#36EEE0","#F79489","#F9F1F0","#409EFF"],search:{value:[]},pagination:{current:1,count:500,limit:10},rmDialog:{visible:false,width:480,headerPosition:"center"},useCorlorList:[],data:[],primaryMessage:"选择你导入的构建机并填写相关信息，系统将为你安装必要的软件",errorMessage:"系统错误，请稍后重试",warningMessage:"系统即将于19：00-21：00进行升个级，请及时保存你的资料",successMessage:"该语料删除成功！",deleteId:"",bulkCreateParams:[]}},computed:{current:function t(){return this.pagination.current},limit:function t(){return this.pagination.limit},count:function t(){return this.pagination.count}},watch:{current:function t(e,a){this.getCorpusList(this.search.value)},limit:function t(e,a){this.getCorpusList(this.search.value)},count:function t(e,a){this.getCorpusList(this.search.value)}},created:function t(){this.getCorpusList(this.search.value)},methods:{testSuccess:function t(e,a){console.log(e,a,"success");e=e.origin;var n=this;var i=new FileReader;i.readAsText(e,"UTF-8");i.onload=function(t){var e=t.target.result;var a=JSON.parse(e);n.bulkCreate(a)}},pageChange:function t(e){this.pagination.current=e},pageLimitChange:function t(e){this.pagination.limit=e},bulkCreate:function t(e){var a=this;return(0,s.default)(r.default.mark(function t(){var n,i,s,o,l;return r.default.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:n=u(e);r.prev=1;n.s();case 3:if((i=n.n()).done){r.next=26;break}s=i.value;if(!s.intent_name){r.next=20;break}o={intent_name:s.intent_name};r.next=9;return a.$store.dispatch("corpus/getIntentList",o,{});case 9:l=r.sent;if(!(l.data.length===0)){r.next=16;break}console.log("有问题");a.handleError({theme:"error"},"无该意图名称");return r.abrupt("return");case 16:s.intent_id=l.data[0].id;case 17:console.log(l);r.next=23;break;case 20:a.handleError({theme:"error"},"意图名称不能为空");console.log("有问题");return r.abrupt("return");case 23:a.bulkCreateParams.push({intent_id:s.intent_id,data_source:s.data_source,corpus_list:[{text:s.text,slots:s.slots}]});case 24:r.next=3;break;case 26:r.next=31;break;case 28:r.prev=28;r.t0=r["catch"](1);n.e(r.t0);case 31:r.prev=31;n.f();return r.finish(31);case 34:case"end":return r.stop()}}},t,null,[[1,28,31,34]])}))()},handleError:function t(e,a){e.message=a;e.offsetY=80;this.$bkMessage(e)},confirm:function t(){var e=this;return(0,s.default)(r.default.mark(function t(){var a;return r.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:console.log(e.bulkCreateParams);a={};if(!(e.bulkCreateParams.length!==0)){n.next=12;break}n.prev=3;n.next=6;return e.$store.dispatch("corpus/bulkCreateCorpus",{data:e.bulkCreateParams},{});case 6:a=n.sent;n.next=11;break;case 9:n.prev=9;n.t0=n["catch"](3);case 11:if(a.code===400){e.handleError({theme:"error"},a.message)}else{e.handleSuccess2({theme:"success"});e.getCorpusList(e.search.value)}case 12:case"end":return n.stop()}}},t,null,[[3,9]])}))()},handleSuccess2:function t(e){e.message="文件上传成功";e.offsetY=80;this.$bkMessage(e)},testProgress:function t(e,a,n){},testDone:function t(){console.log("done")},testErr:function t(e,a){console.log(e,a,"error")},handleRes:function t(e){return true},show:function t(){this.showDialog=true;this.bulkCreateParams=[]},openCorpusCreate:function t(e,a){this.$refs.corpusCreateRef.dialogOpen(e,a)},downLoadFile:function t(e,a){var n=null;if(window.ActiveXObject){n=new ActiveXObject("Microsoft.XMLHTTP")}else if(window.XMLHttpRequest){n=new XMLHttpRequest}if(n!=null){n.open("get",e,true);n.send();n.onreadystatechange=i}function i(){if(n.readyState===4){if(n.status===200){(0,l.download)(n.responseText,a,"text/plain")}}}},getCorpusList:function t(e){var a=this;return(0,s.default)(r.default.mark(function t(){var n,s,o,l,c,d,p,f,m;return r.default.wrap(function t(r){while(1){switch(r.prev=r.next){case 0:n={pagesize:a.pagination.limit,page:a.pagination.current};if((0,i.default)(e)==="object"){e.forEach(function(t){n[t.prop]=t.values.map(function(t){return t.id}).join(",")})}r.next=4;return a.$store.dispatch("corpus/getCorpusList",n,{});case 4:s=r.sent;a.data=s.data;a.pagination.count=s.count;for(o=0;o<a.data.length;o++){a.useCorlorList=[];a.data[o].intent.color=[];for(l in a.data[o].intent.slots){c=a.getDifferentColor();a.data[o].intent.color.push({color:c,key:l,value:a.data[o].intent.slots[l]});a.useCorlorList.push(c)}for(d=0;d<a.data[o].slots.length;d++){p=u(a.data[o].intent.color);try{for(p.s();!(f=p.n()).done;){m=f.value;if(m.key===a.data[o].slots[d].key){a.data[o].slots[d].color=m.color}}}catch(t){p.e(t)}finally{p.f()}}}case 8:case"end":return r.stop()}}},t)}))()},getDifferentColor:function t(){var e=this.getColor();if(this.inUseColor(e)){return this.getDifferentColor()}else{return e}},inUseColor:function t(e){for(var a=0;a<this.useCorlorList.length;a++){if(e===this.useCorlorList[a]){return true}}return false},getColor:function t(){return this.colorList[Math.floor(Math.random()*10)]},dropdownShow:function t(){this.isDropdownShow=true},dropdownHide:function t(){this.isDropdownShow=false},triggerHandler:function t(){this.$refs.dropdown.hide()},delCorpus:function t(){var e=this;return(0,s.default)(r.default.mark(function t(){return r.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:e.rmDialog.visible=false;a.prev=1;a.next=4;return e.$store.dispatch("corpus/deleteCorpus",{id:e.deleteId});case 4:a.next=8;break;case 6:a.prev=6;a.t0=a["catch"](1);case 8:e.handleSuccess({theme:"success"});e.getCorpusList(e.search.value);case 10:case"end":return a.stop()}}},t,null,[[1,6]])}))()},deleteCorpus:function t(e){console.log(this.search.value);this.rmDialog.visible=true;this.deleteId=e},handleSuccess:function t(e){e.message=this.successMessage;e.offsetY=80;this.$bkMessage(e)}}};e.default=p},302:function(t,e,a){"use strict";a.r(e);var n=a(303);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},303:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(15));var r=n(a(16));function s(t,e){var a=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=o(t))||e&&t&&typeof t.length==="number"){if(a)t=a;var n=0;var i=function t(){};return{s:i,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function t(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,l;return{s:function e(){a=a.call(t)},n:function t(){var e=a.next();r=e.done;return e},e:function t(e){s=true;l=e},f:function t(){try{if(!r&&a.return!=null)a.return()}finally{if(s)throw l}}}}function o(t,e){if(!t)return;if(typeof t==="string")return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor)a=t.constructor.name;if(a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}function l(t,e){if(e==null||e>t.length)e=t.length;for(var a=0,n=new Array(e);a<e;a++){n[a]=t[a]}return n}var u={data:function t(){return{colorList:["#FFAEBC","#A0E7E5","#B4F8C8","#FBE7C6","#2E8BC0","#B1D4E0","#BCECE0","#36EEE0","#F79489","#F9F1F0","#409EFF"],slideSlider:{title:"新增语料",isShow:false},fieldDesc:{placement:"top-start",width:190,content:"请选择语料所属的领域，建议在选择意图前先完成语料指定"},intentDesc:{placement:"top-start",width:190,content:"请选择语料所属的意图类型，选择后请参考弹出的词槽提示"},firstStepForm:{fieldType:"",fieldTypeList:[],intentType:"",intentTypeList:[],slots:[]},secondStepForm:{stateMent:"",stateMentList:[]},thirdStepForm:{showText:"",hiddenText:"",submitSlots:[]},useColorList:[],slotsText:"",selectList:[],primaryMessage:"选择你导入的构建机并填写相关信息，系统将为你安装必要的软件",errorMessage:"系统错误，请稍后重试",warningMessage:"系统即将于19：00-21：00进行升个级，请及时保存你的资料",successMessage:"语料创建成功",submitFuc:"",corpusId:""}},methods:{show:function t(e){var a=this;var n=window.getSelection().getRangeAt(0);var i=window.getSelection().anchorOffset;var r=window.getSelection().focusOffset;this.start=r;this.end=i;this.range=n;this.text=window.getSelection().toString();setTimeout(function(){if(n.cloneContents().querySelectorAll("span").length===0&&window.getSelection().toString()!==""){a.showBox(e.clientX,e.clientY)}},100)},dialogClean:function t(){this.submitFuc="";this.corpusId="";this.firstStepForm={fieldType:"",fieldTypeList:[],intentType:"",intentTypeList:[],slots:[]};this.secondStepForm={stateMent:"",stateMentList:[]};this.thirdStepForm={showText:"",hiddenText:"",submitSlots:[]};this.useColorList=[];this.slotsText="";this.selectList=[]},storeSlots:function t(e,a){this.thirdStepForm.showText=this.slotsText;this.thirdStepForm.hiddenText=this.slotsText;if(a){var n=s(a.slots),i;try{for(n.s();!(i=n.n()).done;){var r=i.value;if(r.key!=="dontcolortext"){this.selectList.push({color:r.color,start:r.index[0],end:r.index[1],key:r.key,value:r.value});this.firstStepForm.slots=a.intent.color;this.changeColorCommon()}else if(r.key==="dontcolortext"&&a.slots.length===1){this.firstStepForm.slots=a.intent.color}}}catch(t){n.e(t)}finally{n.f()}}else{this.selectList=[]}},changeColorCommon:function t(){var e=this.slotsText.split("");var a=s(this.selectList),n;try{for(a.s();!(n=a.n()).done;){var i=n.value;e[i.start]='<span class="color-span" style="background-color: '.concat(i.color,'">')+e[i.start];e[i.end-1]=e[i.end-1]+"</span>"}}catch(t){a.e(t)}finally{a.f()}this.thirdStepForm.showText=e.join("");var r=this.selectList;r.sort(function(t,e){return t.start-e.start});this.thirdStepForm.submitSlots=[];var o=0;for(var l=0;l<r.length;l++){if(l===0){if(r[l].start!==0){this.thirdStepForm.submitSlots.push({index:[0,r[l].start],key:"dontcolortext",value:"dontcolortext"})}o=r[l].end}if(l!==0){if(o!==r[l].start){this.thirdStepForm.submitSlots.push({index:[o,r[l].start],key:"dontcolortext",value:"dontcolortext"});o=r[l].end}}this.thirdStepForm.submitSlots.push({index:[r[l].start,r[l].end],key:r[l].key,value:r[l].value});if(l===r.length-1){if(r[l].end!==this.thirdStepForm.hiddenText.length){this.thirdStepForm.submitSlots.push({index:[r[l].end,this.thirdStepForm.hiddenText.length],key:"dontcolortext",value:"dontcolortext"})}}}console.log(this.thirdStepForm.submitSlots)},changeSlotColor:function t(e,a,n){var i=this;if(this.start>this.end){var r=[this.end,this.start];this.start=r[0];this.end=r[1]}this.$refs.demo.style.display=null;var s=this.selectList.every(function(t){return t.start>=i.end||t.end<=i.start});for(var o=0;o<this.selectList.length;o++){if(this.selectList[o].start===this.start&&this.selectList[o].end===this.end){s=false;this.selectList[o].key=a;this.selectList[o].value=n;this.selectList[o].color=e}}if(s){this.selectList.push({key:a,value:n,color:e,start:this.start,end:this.end})}this.changeColorCommon()},deleteSlot:function t(){if(this.start>this.end){var e=[this.end,this.start];this.start=e[0];this.end=e[1]}this.$refs.demo.style.display=null;var a=-1;for(var n=0;n<this.selectList.length;n++){if(this.selectList[n].start===this.start&&this.selectList[n].end===this.end){a=n}}if(a!==-1){this.selectList.splice(a,1)}this.changeColorCommon()},submitFormData:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:if(e.thirdStepForm.submitSlots.length===0){e.thirdStepForm.submitSlots.push({key:"dontcolortext",value:"dontcolortext",index:[0,e.thirdStepForm.hiddenText.length]})}a={intent_id:e.firstStepForm.intentType,data_source:"1",corpus_list:[{slots:e.thirdStepForm.submitSlots,text:e.thirdStepForm.hiddenText}],id:e.corpusId};n={};if(!(e.submitFuc==="create")){i.next=9;break}i.next=6;return e.$store.dispatch("corpus/postCorpus",a);case 6:n=i.sent;i.next=14;break;case 9:if(!(e.submitFuc==="edit")){i.next=14;break}console.log(a);i.next=13;return e.$store.dispatch("corpus/putCorpus",a);case 13:n=i.sent;case 14:console.log(n);if(n.result===true){e.handleSuccess({theme:"success"});e.slideSlider.isShow=false;e.$emit("getCorpusList")}case 16:case"end":return i.stop()}}},t)}))()},showBox:function t(e,a){this.$refs.demo.style.display="block";this.$refs.demo.style.left=e+"px";this.$refs.demo.style.top=a+"px"},change:function t(e){document.getElementById(this.currentID).style.color="#EEEEEE"},dialogOpen:function t(e,a){if(e==="corpusCreate"){this.submitFuc="create";this.getDomainList()}else if(e==="corpusEdit"){this.submitFuc="edit";this.getDomainList();this.firstStepForm.fieldType=a.domain.id;this.getIntentList();this.firstStepForm.intentType=a.intent.id;this.slotsText=a.text;this.storeSlots("null",a);this.corpusId=a.id;console.log(a)}this.slideSlider.isShow=true},getDomainList:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a;return i.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return e.$store.dispatch("corpus/getDomainList");case 2:a=n.sent;e.firstStepForm.fieldTypeList=a.data.map(function(t){return{id:t.id,name:t.domain_name}});case 4:case"end":return n.stop()}}},t)}))()},getIntentList:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a;return i.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return e.$store.dispatch("corpus/getIntentList",{domain_id:e.firstStepForm.fieldType});case 2:a=n.sent;e.firstStepForm.intentTypeList=a.data.map(function(t){return{id:t.id,name:t.intent_name,slots:t.slots}});case 4:case"end":return n.stop()}}},t)}))()},showSlots:function t(){this.useColorList=[];for(var e=0;e<this.firstStepForm.intentTypeList.length;e++){if(this.firstStepForm.intentTypeList[e].id===this.firstStepForm.intentType){this.firstStepForm.slots=this.firstStepForm.intentTypeList[e].slots}}for(var a=0;a<this.firstStepForm.slots.length;a++){this.firstStepForm.slots[a].color=this.getDifferentColor();this.useColorList.push(this.firstStepForm.slots[a].color)}},getDifferentColor:function t(){var e=this.getColor();if(this.inUseColor(e)){return this.getDifferentColor()}else{return e}},inUseColor:function t(e){for(var a=0;a<this.useColorList.length;a++){if(e===this.useColorList[a]){return true}}return false},getColor:function t(){return this.colorList[Math.floor(Math.random()*10)]},handleSuccess:function t(e){e.message=this.successMessage;e.offsetY=80;this.$bkMessage(e)}}};e.default=u},304:function(t,e,a){},305:function(t,e,a){},306:function(t,e,a){"use strict";a.r(e);var n=a(307);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},307:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(15));var r=n(a(16));var s=n(a(400));var o=a(185);var l={components:{},props:{bizId:{type:String}},data:function t(){return{listLoading:true,panels:[{name:"all",label:"所有插件",count:10},{name:"biz",label:"业务专属",count:20},{name:"popular",label:"近期热门",count:30},{name:"new",label:"近期新增",count:40}],active:"all",pagination:{current:1,count:500,limit:10},rmDialog:{visible:false,width:480,headerPosition:"center"},pluginList:[],pluginListData:[{id:0,plugin_name:"Ping检测",icon:"ipo",created_by:"andyzgzhang",plugin_tag:"运维工具",plugin_status:"已安装",plugin_type:1,executionTimes:999},{id:1,plugin_name:"Ping检测",icon:"compass",created_by:"andyzgzhang",plugin_tag:"运维工具",plugin_status:"已安装",plugin_type:0,executionTimes:999}],pluginCount:"",sortList:[{id:1,name:"按创建时间排序，降序"},{id:2,name:"按创建时间排序，升序"},{id:3,name:"按执行次数排序，降序"}],sortWay:"",pluginName:"",data:[],pluginStatus:[{id:0,status:"status-default",desc:"已创建"},{id:1,status:"status-stag",desc:"灰度中"},{id:2,status:"status-audit",desc:"待审核"},{id:3,status:"status-added",desc:"已发布"},{id:4,status:"status-sold-out",desc:"已下架"}],pluginTagList:[{name:"运维工具"}]}},watch:{bizId:function t(){this.init()}},mounted:function t(){this.$emit("doHeader",false);this.init()},methods:{dialogOpen:o.dialogOpen,dialogClean:o.dialogClean,dialogConfirm:o.dialogConfirm,init:function t(){this.active="all";if(this.bizId!==""&&typeof this.bizId!=="undefined"){this.getPluginList()}},getPluginList:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:e.listLoading=true;a=null;e.pluginList=[];e.pluginCount=0;if(!(e.active==="all")){i.next=13;break}i.prev=5;i.next=8;return e.$store.dispatch("plugin/getPluginList",{bizId:e.bizId});case 8:a=i.sent;i.next=13;break;case 11:i.prev=11;i.t0=i["catch"](5);case 13:if(!(e.active==="biz")){i.next=22;break}i.prev=14;i.next=17;return e.$store.dispatch("plugin/getPrivatePluginList",{bizId:e.bizId});case 17:a=i.sent;i.next=22;break;case 20:i.prev=20;i.t1=i["catch"](14);case 22:if(!(e.active==="popular")){i.next=31;break}i.prev=23;i.next=26;return e.$store.dispatch("plugin/getPluginListByPopularity",{bizId:e.bizId});case 26:a=i.sent;i.next=31;break;case 29:i.prev=29;i.t2=i["catch"](23);case 31:if(!(e.active==="new")){i.next=41;break}n=(0,s.default)().subtract(30,"days").format("YYYY-MM-DD HH:mm:ss");i.prev=33;i.next=36;return e.$store.dispatch("plugin/getPluginListByRecentAdditions",{bizId:e.bizId,createAtMin:n});case 36:a=i.sent;i.next=41;break;case 39:i.prev=39;i.t3=i["catch"](33);case 41:if(a!==null){if(a.hasOwnProperty("data")){e.pluginList=a.data}}e.pluginCount=e.pluginList.length;e.listLoading=false;case 44:case"end":return i.stop()}}},t,null,[[5,11],[14,20],[23,29],[33,39]])}))()},searchPlugin:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){return i.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return e.getPluginList();case 2:if(e.pluginName!==""){e.pluginList=e.pluginList.filter(function(t){return t.plugin_name.indexOf(e.pluginName)!==-1});e.pluginCount=e.pluginList.length}case 3:case"end":return a.stop()}}},t)}))()},sortPluginList:function t(){switch(this.sortWay){case 1:this.pluginList.sort(function(t,e){return Date.parse(e.created_at)-Date.parse(t.created_at)});break;case 2:this.pluginList.sort(function(t,e){return Date.parse(t.created_at)-Date.parse(e.created_at)});break;case 3:this.pluginList.sort(function(t,e){return e.plugin_exec_count-t.plugin_exec_count});break}}}};e.default=l},308:function(t,e,a){},309:function(t,e,a){"use strict";a.r(e);var n=a(310);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},310:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(15));var r=n(a(16));var s=n(a(492));var o={components:{pluginCreateSlider:s.default},props:{bizId:{type:String}},data:function t(){return{searchPluginName:"",pluginList:[],pluginCount:"",tableLoading:true,colorList:["#FFAEBC","#A0E7E5","#B4F8C8","#FBE7C6","#2E8BC0","#B1D4E0","#BCECE0","#36EEE0","#F79489","#F9F1F0"],pagination:{current:1,count:500,limit:10},confirmDeleteDialog:{title:"删除插件",visible:false,headerPosition:"left",width:480},downGradeDialog:{title:"下架插件",visible:false,headerPosition:"left",width:480},PluginData:null,pluginTypeList:{0:"私有",1:"公开"},operation:{0:"灰度",1:"上架",2:"审核中",3:"下架"},statusList:{0:{name:"创建中",css:"created-plugin",target:1},1:{name:"预发布",css:"stag-plugin",target:2},2:{name:"审核中",css:"audit-plugin",target:null},3:{name:"已发布",css:"added-plugin",target:4},4:{name:"已下架",css:"sold-out-plugin",target:null}}}},watch:{bizId:function t(){this.init()}},mounted:function t(){this.init();this.$emit("doHeader",false)},methods:{init:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){return i.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:e.tableLoading=true;if(!(e.bizId!==""&&typeof e.bizId!=="undefined")){a.next=6;break}a.next=4;return e.getAllBizList();case 4:a.next=6;return e.getAllPluginList();case 6:case"end":return a.stop()}}},t)}))()},openPluginCreate:function t(e,a,n){this.$refs.pluginCreateRef.dialogOpen(e,null,a,n)},getAllBizList:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){return i.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return e.$store.dispatch("bot/getBiz").then(function(t){e.allBizList={};var a=t.data;for(var n=0;n<a.length;n++){e.allBizList[a[n].bk_biz_id]=a[n].bk_biz_name}});case 2:case"end":return a.stop()}}},t)}))()},openDocument:function t(){window.open("https://github.com/TencentBlueKing/bk-chatbot/blob/master/docs/createskills.md","_blank")},handlePageChange:function t(e){this.pagination.current=e;if(this.searchPluginName!==""){this.searchPlugin()}else{this.getAllPluginList()}},handlePageLimitChange:function t(e){this.pagination.limit=e;if(this.searchPluginName!==""){this.searchPlugin()}else{this.getAllPluginList()}},getAllPluginList:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a,n,r,s;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:i.prev=0;i.next=3;return e.$store.dispatch("plugin/getAllPluginList",{pagesize:e.pagination.limit,page:e.pagination.current});case 3:a=i.sent;e.pluginList=a.data;e.pluginCount=a.data.length;e.pagination.count=a.count;for(n=0;n<e.pluginCount;n++){r=[];for(s=0;s<e.pluginList[n].biz_list.length;s++){r.push(e.allBizList[e.pluginList[n].biz_list[s]])}if(r.length===0){e.pluginList[n].biz_name_list="全部业务"}else{e.pluginList[n].biz_name_list=r.join("； ")}}i.next=12;break;case 10:i.prev=10;i.t0=i["catch"](0);case 12:e.tableLoading=false;case 13:case"end":return i.stop()}}},t,null,[[0,10]])}))()},reloadPluginList:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){return i.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:e.tableLoading=true;a.next=3;return e.getAllPluginList();case 3:case"end":return a.stop()}}},t)}))()},searchPlugin:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a,n,r,s;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return e.$store.dispatch("plugin/getAllPluginListByName",{pluginName:e.searchPluginName,pagesize:e.pagination.limit,page:e.pagination.current});case 2:a=i.sent;if(a.result){e.pluginList=a.data;e.pluginCount=a.data.length;e.pagination.count=a.count;for(n=0;n<e.pluginCount;n++){r=[];for(s=0;s<e.pluginList[n].biz_list.length;s++){r.push(e.allBizList[e.pluginList[n].biz_list[s]])}if(r.length===0){e.pluginList[n].biz_name_list="全部业务"}else{e.pluginList[n].biz_name_list=r.join("； ")}}}e.tableLoading=false;case 5:case"end":return i.stop()}}},t)}))()},downGradePlugin:function t(e){this.downGradeDialog.visible=true;this.PluginData=e},cancelStag:function t(e){var a=this;return(0,r.default)(i.default.mark(function t(){var n;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return a.$store.dispatch("plugin/updatePlugin",{id:e.id,plugin_status:0});case 2:n=i.sent;if(!n.result){i.next=7;break}a.tableLoading=true;i.next=7;return a.getAllPluginList();case 7:case"end":return i.stop()}}},t)}))()},cancelReview:function t(e){var a=this;return(0,r.default)(i.default.mark(function t(){var n;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return a.$store.dispatch("plugin/updatePlugin",{id:e.id,plugin_status:5});case 2:n=i.sent;if(!n.result){i.next=7;break}a.tableLoading=true;i.next=7;return a.getAllPluginList();case 7:case"end":return i.stop()}}},t)}))()},confirmDownGradePlugin:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:a=e.PluginData;e.tableLoading=true;i.next=4;return e.$store.dispatch("plugin/updatePlugin",{id:a.id,plugin_status:4});case 4:n=i.sent;if(!n.result){i.next=8;break}i.next=8;return e.getAllPluginList();case 8:case"end":return i.stop()}}},t)}))()},operatePlugin:function t(e){var a=this;return(0,r.default)(i.default.mark(function t(){var n,r;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:n=a.statusList[e.plugin_status].target;if(!(n!==4)){i.next=11;break}a.tableLoading=true;i.next=5;return a.$store.dispatch("plugin/updatePlugin",{id:e.id,plugin_status:n});case 5:r=i.sent;if(!r.result){i.next=9;break}i.next=9;return a.getAllPluginList();case 9:i.next=12;break;case 11:a.downGradePlugin(e);case 12:case"end":return i.stop()}}},t)}))()},confirmDeletePlugin:function t(){var e=this;return(0,r.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function t(i){while(1){switch(i.prev=i.next){case 0:a=e.PluginData;if(!(a!==null)){i.next=15;break}n=a.plugin_status;if(!(n===0||n===1)){i.next=15;break}e.PluginData=null;i.prev=5;i.next=8;return e.$store.dispatch("plugin/deletePlugin",{id:a.id});case 8:i.next=12;break;case 10:i.prev=10;i.t0=i["catch"](5);case 12:e.tableLoading=true;i.next=15;return e.getAllPluginList();case 15:case"end":return i.stop()}}},t,null,[[5,10]])}))()},removePlugin:function t(e){this.confirmDeleteDialog.visible=true;this.PluginData=e}}};e.default=o},311:function(t,e,a){"use strict";a.r(e);var n=a(312);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},312:function(t,e,a){"use strict";var n=a(0);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(a(18));var r=n(a(29));var s=n(a(15));var o=n(a(16));var l=n(a(493));var u={components:{CodeEditor:l.default},props:{bizId:{type:String},editPluginData:Object},data:function t(){return{rtxList:[],editorReload:false,pluginData:{plugin_icon:"chart",plugin_name:"",plugin_type:1,biz_list:"",developers:[],plugin_key:"",plugin_addr:"",plugin_desc:"",plugin_tag:0,choose_biz:0,plugin_status:"",actions:[],plugin_global:{},jsonValue:'{\n    "actions": [\n        {\n            "key": "/api/rest/v1/bkchat/post_test",\n            "desc": "描叙",\n            "time_out": 60,\n            "run_now": true,\n            "params": [\n                {\n                    "key": "test_input",\n                    "name": "输入参数",\n                    "desc": "参数描叙1",\n                    "type": "input",\n                    "show": true,\n                    "required": true\n                },\n                {\n                    "key": "test_select",\n                    "name": "选择参数",\n                    "desc": "参数描叙2",\n                    "type": "select",\n                    "show": true,\n                    "required": true,\n                    "options": [\n                        {\n                          "id": "1",\n                          "name": "选项1"\n                        },\n                        {\n                          "id": "2",\n                          "name": "选项2"\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    "plugin_global": {\n        "bk_app_code": "xxxxx",\n        "bk_app_secret": "xxxxx"\n    }\n}'},jsonEditorOptions:{language:"json",readOnly:false,minimap:{enabled:true}},bizList:[],selectedBizList:[],pluginTagList:[{id:0,name:"运维工具"}],iconList:["chart","compass","ipo","lag","rocket","upgrade"],exitDialog:{visible:false,headerPosition:"left"},confirmDialog:{visible:false,headerPosition:"left"},exitEditDialog:{visible:false,headerPosition:"left"},confirmEditDialog:{visible:false,headerPosition:"left"},slideSlider:{title:"",isShow:false},isCheckDetail:false,isEditing:false,disablePluginKey:false,exampleJsonValue:'{\n    "actions": [\n        {\n            "key": "/api/rest/v1/bkchat/post_test",\n            "desc": "描叙",\n            "time_out": 60,\n            "run_now": true,\n            "params": [\n                {\n                    "key": "test_input",\n                    "name": "输入参数",\n                    "desc": "参数描叙1",\n                    "type": "input",\n                    "show": true,\n                    "required": true\n                },\n                {\n                    "key": "test_select",\n                    "name": "选择参数",\n                    "desc": "参数描叙2",\n                    "type": "select",\n                    "show": true,\n                    "required": true,\n                    "options": [\n                        {\n                          "id": "1",\n                          "name": "选项1"\n                        },\n                        {\n                          "id": "2",\n                          "name": "选项2"\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    "plugin_global": {\n        "bk_app_code": "xxxxx",\n        "bk_app_secret": "xxxxx"\n    }\n}',rules:{pluginIcon:[{required:true,message:"请选择插件icon",trigger:"blur"}],pluginName:[{required:true,message:"请输入插件名称",trigger:"blur"}],pluginType:[{required:true,message:"请选择插件类型",trigger:"blur"}],bizList:[],developers:[],pluginKey:[{required:true,message:"请输入插件key",trigger:"blur"},{regex:/^[A-Z0-9-]+$/,message:"插件 Key 支持输入英文大写字母 A-Z / 数字 / 中划线 '-'",trigger:"blur"},{max:64,message:"插件 key 最长字符长度为 64",trigger:"blur"}],pluginAddr:[{required:true,message:"请输入插件地址，格式为 域名:端口",trigger:"blur"}],pluginDesc:[{required:true,message:"请输入插件描述",trigger:"blur"}],pluginTag:[{required:true,message:"请输入插件标签",trigger:"blur"}],chooseBiz:[{required:true,message:"请选择是否包含业务选择",trigger:"blur"}],jsonValue:[{required:true,message:"请按JSON格式填写关于 plugin_global 和 actions 的设置",trigger:"change"},{validator:this.checkJson,message:"不符合JSON格式，请修改",trigger:"change"}]}}},watch:{bizId:function t(){this.getBiz()}},created:function t(){if(this.bizId!==""&&typeof this.bizId!=="undefined"){this.getBiz()}},methods:{getBiz:function t(){var e=this;return(0,o.default)(s.default.mark(function t(){var a;return s.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return e.$store.dispatch("example/getBiz");case 2:a=n.sent;e.bizList=a.data||[];case 4:case"end":return n.stop()}}},t)}))()},checkJson:function t(e){return(0,o.default)(s.default.mark(function t(){return s.default.wrap(function t(a){while(1){switch(a.prev=a.next){case 0:e=typeof e!=="string"?JSON.stringify(e):e;a.prev=1;e=JSON.parse(e);a.next=8;break;case 5:a.prev=5;a.t0=a["catch"](1);return a.abrupt("return",false);case 8:return a.abrupt("return",(0,r.default)(e)==="object"&&e!==null);case 9:case"end":return a.stop()}}},t,null,[[1,5]])}))()},selectIcon:function t(e){if(this.isCheckDetail!==true){this.pluginData.plugin_icon=e}},beforeClose:function t(){if(this.isCheckDetail!==true){this.getExitDialog()}else{this.clearPluginParams();this.slideSlider.isShow=false}},changeJsonValue:function t(e){this.pluginData.jsonValue=e},getPluginParams:function t(){var e=(0,i.default)(JSON.parse(this.pluginData.jsonValue),{plugin_icon:this.pluginData.plugin_icon,plugin_name:this.pluginData.plugin_name,plugin_type:this.pluginData.plugin_type,biz_list:this.pluginData.biz_list.length===0?[]:this.pluginData.biz_list,developers:this.pluginData.developers,plugin_key:this.pluginData.plugin_key,plugin_addr:this.pluginData.plugin_addr,plugin_desc:this.pluginData.plugin_desc,plugin_tag:this.pluginTagList[this.pluginData.plugin_tag].name,choose_biz:this.pluginData.choose_biz});if(this.isEditing){e.id=this.pluginData.id}else{e.plugin_status=0}return e},getPluginTagIndex:function t(e,a){for(var n in e){if(e[n].name===a){return n}}},getPluginDetail:function t(e){var a=this;return(0,o.default)(s.default.mark(function t(){return s.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return a.$store.dispatch("plugin/retrievePlugin",{id:e.id}).then(function(t){var n=t.data;a.pluginData=n;a.pluginData.jsonValue=JSON.stringify((0,i.default)({plugin_global:n.plugin_global},{actions:n.actions}),null,4);a.pluginData.id=e.id;a.pluginData.plugin_tag=a.getPluginTagIndex(a.pluginTagList,e.plugin_tag);a.pluginData.plugin_status=e.plugin_status;a.pluginData.plugin_tag=parseInt(a.pluginData.plugin_tag);a.pluginData.biz_list.forEach(function(t,e){a.pluginData.biz_list[e]=parseInt(a.pluginData.biz_list[e])});a.pluginData.choose_biz=a.pluginData.choose_biz===false?0:1});case 2:case"end":return n.stop()}}},t)}))()},clearPluginParams:function t(){this.pluginData.plugin_icon="chart";this.pluginData.plugin_name="";this.pluginData.plugin_type=1;this.pluginData.biz_list=[];this.pluginData.plugin_key="";this.pluginData.plugin_addr="";this.pluginData.plugin_desc="";this.pluginData.plugin_tag=0;this.pluginData.choose_biz=0;this.pluginData.developers=[];this.pluginData.id="";this.pluginData.jsonValue=this.exampleJsonValue;this.disablePluginKey=false},getConfirmDialog:function t(){if(this.isEditing){this.confirmEditDialog.visible=true}else{this.confirmDialog.visible=true}},getExitDialog:function t(){if(this.isEditing){this.exitEditDialog.visible=true}else{this.exitDialog.visible=true}},checkPluginData:function t(){var e=this;this.$refs.pluginFirstDataRef.validate().then(function(t){e.$refs.pluginSecondDataRef.validate().then(function(t){e.getConfirmDialog()},function(t){e.$bkMessage({theme:"error",message:t.content})})},function(t){e.$bkMessage({theme:"error",message:t.content})})},confirmCreatePlugin:function t(){var e=this;return(0,o.default)(s.default.mark(function t(){var a;return s.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:a=e.getPluginParams();n.next=3;return e.$store.dispatch("plugin/CreatePlugin",a);case 3:e.slideSlider.isShow=false;e.clearPluginParams();e.$emit("init-workspace");case 6:case"end":return n.stop()}}},t)}))()},confirmEditPlugin:function t(){var e=this;return(0,o.default)(s.default.mark(function t(){var a;return s.default.wrap(function t(n){while(1){switch(n.prev=n.next){case 0:a=e.getPluginParams();n.next=3;return e.$store.dispatch("plugin/updatePlugin",a);case 3:e.slideSlider.isShow=false;e.clearPluginParams();e.$router.push("workspace");e.$emit("init-workspace");case 7:case"end":return n.stop()}}},t)}))()},exitCreatePlugin:function t(){this.slideSlider.isShow=false;this.clearPluginParams()},exitEditPlugin:function t(){this.slideSlider.isShow=false;this.clearPluginParams()},dialogOpen:function t(e,a,n,i){this.getBiz();if(n&&i==="edit"){this.isEditing=true;this.slideSlider.title="编辑插件";this.isCheckDetail=false;this.disablePluginKey=true;this.getPluginDetail(n);this.jsonEditorOptions.readOnly=false}else if(n&&i==="detail"){this.isEditing=false;this.slideSlider.title="查看详情";this.disablePluginKey=true;this.isCheckDetail=true;this.getPluginDetail(n);this.jsonEditorOptions.readOnly=true}else{this.isEditing=false;this.isCheckDetail=false;this.slideSlider.title="新增插件";this.jsonEditorOptions.readOnly=false}this.slideSlider.isShow=true}}};e.default=u},313:function(t,e,a){"use strict";a.r(e);var n=a(314);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},314:function(t,e,a){"use strict";var n=a(0);var i=a(29);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=n(a(18));var s=l(a(494));function o(t){if(typeof WeakMap!=="function")return null;var e=new WeakMap;var a=new WeakMap;return(o=function t(n){return n?a:e})(t)}function l(t,e){if(!e&&t&&t.__esModule){return t}if(t===null||i(t)!=="object"&&typeof t!=="function"){return{default:t}}var a=o(e);if(a&&a.has(t)){return a.get(t)}var n={};var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t){if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var l=r?Object.getOwnPropertyDescriptor(t,s):null;if(l&&(l.get||l.set)){Object.defineProperty(n,s,l)}else{n[s]=t[s]}}}n.default=t;if(a){a.set(t,n)}return n}var u={language:"json",theme:"vs-dark",automaticLayout:true,minimap:{enabled:false},wordWrap:"on",wrappingIndent:"same"};var c={name:"CodeEditor",props:{value:{type:String,default:""},options:{type:Object,default:function t(){return{}}}},data:function t(){var e=(0,r.default)({},u,this.options,{value:this.value});return{editorOptions:e,monacoInstance:null}},watch:{value:function t(e){var a=this.monacoInstance.getValue();if(e!==a){this.monacoInstance.setValue(e)}},options:{deep:true,handler:function t(e){this.editorOptions=(0,r.default)({},u,e,{value:this.value});this.updateOptions()}}},mounted:function t(){this.initInstance()},beforeDestroy:function t(){if(this.monacoInstance){this.monacoInstance.dispose()}},methods:{initInstance:function t(){var e=this;this.monacoInstance=s.editor.create(this.$el,this.editorOptions);var a=this.monacoInstance.getModel();a.setEOL(0);if(this.value.indexOf("\r\n")>-1){var n=document.createElement("textarea");n.value=this.value;this.$emit("json-value-change",n.value)}a.onDidChangeContent(function(t){var a=e.monacoInstance.getValue();e.$emit("json-value-change",a)});this.editorDidMount(this.monacoInstance)},updateOptions:function t(){this.monacoInstance.updateOptions(this.editorOptions)},editorDidMount:function t(e){setTimeout(function(){e.getAction("editor.action.formatDocument").run()},300)}}};e.default=c},360:function(t,e,a){},361:function(t,e,a){},362:function(t,e,a){},363:function(t,e,a){"use strict";a.r(e);var n=a(364);var i=a.n(n);for(var r in n)if(r!=="default")(function(t){a.d(e,t,function(){return n[t]})})(r);e["default"]=i.a},364:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={components:{},data:function t(){return{rooms:[],messages:[],currentUserId:1234}}};e.default=n},451:function(t,e,a){"use strict";var n=a(266);var i=a.n(n);var r=i.a},453:function(t,e,a){"use strict";var n=a(276);var i=a.n(n);var r=i.a},454:function(t,e,a){"use strict";a.r(e);var n=a(595);var i=a(279);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(456);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=l.exports},456:function(t,e,a){"use strict";var n=a(281);var i=a.n(n);var r=i.a},457:function(t,e,a){"use strict";var n=a(282);var i=a.n(n);var r=i.a},458:function(t,e,a){"use strict";var n=a(285);var i=a.n(n);var r=i.a},459:function(t,e,a){"use strict";var n=a(288);var i=a.n(n);var r=i.a},484:function(t,e,a){"use strict";var n=a(299);var i=a.n(n);var r=i.a},485:function(t,e,a){"use strict";var n=a(304);var i=a.n(n);var r=i.a},486:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.download=n;function n(t,e,a){var n=window;var i="application/octet-stream";var r=a||i;var s=t;var o=document;var l=o.createElement("a");var u=function t(e){return String(e)};var c=n.Blob||n.MozBlob||n.WebKitBlob||u;var d=n.MSBlobBuilder||n.WebKitBlobBuilder||n.BlobBuilder;var p=e||"download";var f;var m;var b;if(String(this)==="true"){s=[s,r];r=s[0];s=s[1]}if(String(s).match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/)){return navigator.msSaveBlob?navigator.msSaveBlob(h(s),p):g(s)}try{f=s instanceof c?s:new c([s],{type:r})}catch(t){if(d){m=new d;m.append([s]);f=m.getBlob(r)}}function h(t){var e=t.split(/[:;,]/);var a=e[1];var n=e[2]==="base64"?atob:decodeURIComponent;var i=n(e.pop());var r=i.length;var s=0;var o=new Uint8Array(r);for(s;s<r;++s){o[s]=i.charCodeAt(s)}return new c([o],{type:a})}function g(t,e){if("download"in l){l.href=t;l.setAttribute("download",p);l.innerHTML="downloading...";o.body.appendChild(l);setTimeout(function(){l.click();o.body.removeChild(l);if(e===true){setTimeout(function(){n.URL.revokeObjectURL(l.href)},250)}},66);return true}var a=o.createElement("iframe");o.body.appendChild(a);if(!e){t="data:"+t.replace(/^data:([\w\/\-\+]+)/,i)}a.src=t;setTimeout(function(){o.body.removeChild(a)},333)}if(navigator.msSaveBlob){return navigator.msSaveBlob(f,p)}if(n.URL){g(n.URL.createObjectURL(f),true)}else{if(typeof f==="string"||f.constructor===u){try{return g("data:"+r+";base64,"+n.btoa(f))}catch(t){return g("data:"+r+","+encodeURIComponent(f))}}b=new FileReader;b.onload=function(t){g(this.result)};b.readAsDataURL(f)}return true}},487:function(t,e,a){"use strict";var n=a(305);var i=a.n(n);var r=i.a},488:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjM4ODY2MjA5NTYyIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjUgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjUwODMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwLjE5NTMxMjUiIGhlaWdodD0iMjAwIj48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9Ik01MTEuOTk5NzIzIDMzMS45MTM3OTRtLTExNy43NDg4NTQgMGExMTcuNzQ4ODU0IDExNy43NDg4NTQgMCAxIDAgMjM1LjQ5NzcwOCAwIDExNy43NDg4NTQgMTE3Ljc0ODg1NCAwIDEgMC0yMzUuNDk3NzA4IDBaIiBwLWlkPSI1MDg0Ij48L3BhdGg+PHBhdGggZD0iTTUxMS45OTk3MjMgMC4wMDA1NTRBNTExLjk5OTcyMyA1MTEuOTk5NzIzIDAgMSAwIDEwMjUuMTA3NjcgNTEyLjAwMDI3NyA1MTIuMjc2Nzc5IDUxMi4yNzY3NzkgMCAwIDAgNTExLjk5OTcyMyAwLjAwMDU1NHpNNzkyLjM4MDUyNCA3NzkuNjM2NDk2YTI0LjkzNTA1MSAyNC45MzUwNTEgMCAwIDEtMjQuOTM1MDUyLTI0LjkzNTA1MiAyNTUuNDQ1NzQ5IDI1NS40NDU3NDkgMCAwIDAtNTEwLjYxNDQ0MiAwIDI0LjkzNTA1MSAyNC45MzUwNTEgMCAwIDEtNDkuODcwMTAzIDAgMzA0Ljc2MTc0IDMwNC43NjE3NCAwIDAgMSAyMDUuMjk4NTktMjg4LjEzODM3MiAxNjcuODk2MDEzIDE2Ny44OTYwMTMgMCAxIDEgMTk5LjQ4MDQxMiAwIDMwNC43NjE3NCAzMDQuNzYxNzQgMCAwIDEgMjA1LjU3NTY0NiAyODguMTM4MzcyIDI0LjkzNTA1MSAyNC45MzUwNTEgMCAwIDEtMjQuOTM1MDUxIDI0LjkzNTA1MnoiIHAtaWQ9IjUwODUiPjwvcGF0aD48L3N2Zz4="},490:function(t,e,a){var n={"./zh-cn":401,"./zh-cn.js":401};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");e.code="MODULE_NOT_FOUND";throw e}return n[t]}i.keys=function t(){return Object.keys(n)};i.resolve=r;t.exports=i;i.id=490},491:function(t,e,a){"use strict";var n=a(308);var i=a.n(n);var r=i.a},492:function(t,e,a){"use strict";a.r(e);var n=a(596);var i=a(311);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(570);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=l.exports},493:function(t,e,a){"use strict";a.r(e);var n=a(597);var i=a(313);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(569);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,"0405e74b",null);e["default"]=l.exports},569:function(t,e,a){"use strict";var n=a(360);var i=a.n(n);var r=i.a},570:function(t,e,a){"use strict";var n=a(361);var i=a.n(n);var r=i.a},571:function(t,e,a){"use strict";var n=a(362);var i=a.n(n);var r=i.a},580:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"app-container"}),t._v(" "),a("div",{staticClass:"app"},[t._m(0),t._v(" "),a("div",{staticClass:"gray-background high"},[a("div",{staticClass:"title"},[t._v("四大功能")]),t._v(" "),a("div",{staticClass:"flex"},t._l(t.firstRange,function(e){return a("div",{key:e.text},[a("img",{staticClass:"image",attrs:{src:e.image,alt:""}}),t._v(" "),a("div",{staticClass:"T-text"},[t._v(t._s(e["T-text"]))]),t._v(" "),a("div",{staticClass:"t-text"},[t._v(t._s(e.text))])])}),0)]),t._v(" "),a("div",{staticClass:"high"},[a("div",{staticClass:"title"},[t._v("四大亮点")]),t._v(" "),a("div",{staticClass:"flex"},t._l(t.secondRange,function(e){return a("div",{key:e.text},[a("img",{staticClass:"image",attrs:{src:e.image,alt:""}}),t._v(" "),a("div",{staticClass:"T-text"},[t._v(t._s(e["T-text"]))]),t._v(" "),a("div",{staticClass:"t-text"},[t._v(t._s(e.text))])])}),0)])])])};var i=[function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticStyle:{"padding-left":"100px","padding-top":"100px"}},[a("div",{staticClass:"content-title"},[t._v("蓝鲸信息流-提效办公工具")]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("bk-chatbot 是一款可通过可视化的界面进行任务配置，通过聊天终端软件如企业微信应用机器人进行会话交互实现任务执行和智能问答的蓝鲸 SaaS 产品。")])]),t._v(" "),a("img",{staticClass:"banner",attrs:{src:"static/images/index_icon/banner.png",alt:""}})])}]},581:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("router-view",{key:t.$route.path,attrs:{"biz-id":t.bizId},on:{doHeader:t.doHeader}})};var i=[]},583:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"app-container"}),t._v(" "),a("div",{staticClass:"app-content"},[a("div",{staticClass:"wrapper"},[a("bk-container",{attrs:{col:12,gutter:4}},[a("bk-row",{staticClass:"mb15"},[a("bk-col",{attrs:{span:9}},[a("div",{staticClass:"content"},[a("bk-button",{attrs:{theme:"primary",title:"注册","ext-cls":"opsbot-button",disabled:""},on:{click:function(e){t.dialogOpen(t.botYW,"createBot",t.createBot.openCallback(t.botYW))}}},[t._v("\n                                注册")])],1)]),t._v(" "),a("bk-col",{attrs:{span:3}},[a("div",{staticClass:"content"},[a("bk-search-select",{attrs:{clearable:"","show-popover-tag-change":true,data:t.botTableData.searchData.data,"show-condition":false},on:{change:function(e){return t.getTableData(1,t.botTableData.searchData.query)},clear:function(e){return t.getTableData(1,t.botTableData.searchData.query)}},model:{value:t.botTableData.searchData.query,callback:function(e){t.$set(t.botTableData.searchData,"query",e)},expression:"botTableData.searchData.query"}})],1)])],1),t._v(" "),a("bk-row",[a("bk-col",{attrs:{span:12}},[a("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.botTableData.loading,theme:"primary"},expression:"{ isLoading: botTableData.loading, theme: 'primary' }"}],attrs:{data:t.botTableData.data,size:"small",pagination:t.botTableData.pagination},on:{"page-change":t.handleTablePageChangeAsync,"selection-change":function(e){return t.handleTableSelectionChange(e,t.botYW,"botTableData")}}},[a("bk-table-column",{attrs:{label:"名称",prop:"bot_name"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.bot_name))])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"ID",prop:"bot_id"}}),t._v(" "),a("bk-table-column",{attrs:{label:"类型",prop:"bot_type"}}),t._v(" "),a("bk-table-column",{attrs:{label:"创建人",prop:"created_by"}}),t._v(" "),a("bk-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),t._v(" "),a("bk-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-button",{ref:"bot-"+e.$index,staticClass:"mr10",attrs:{theme:"primary",text:"",disabled:""}},[t._v("编辑")]),t._v(" "),a("bk-popconfirm",{attrs:{trigger:"click","confirm-button-is-text":false,"confirm-text":"确定","cancel-text":"取消"},on:{confirm:function(e){return t.dialogConfirm(t.botYW,"deleteBot","","delete")}}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[a("i",{staticClass:"bk-icon icon-info-circle-shape pr5",staticStyle:{color:"red"}}),t._v("\n                                                确认删除该机器人: "+t._s(e.row.bot_name)+"\n                                            ")])]),t._v(" "),a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:"",disabled:""},on:{click:function(a){t.dialogOpen(t.botYW,"deleteBot",t.deleteBot.openCallback(t.botYW,e.row))}}},[t._v("删除")])],1)]}}])})],1)],1)],1)],1)],1)]),t._v(" "),a("bk-dialog",{attrs:{theme:"primary",width:"500","header-position":"left",title:t.createBot.title,"auto-close":false,loading:t.createBot.loading},on:{confirm:function(e){return t.dialogConfirm(t.botYW,"createBot","createBotRef",t.createBot.method)},"after-leave":function(e){return t.dialogClean(t.botYW,"createBot")}},model:{value:t.createBot.visible,callback:function(e){t.$set(t.createBot,"visible",e)},expression:"createBot.visible"}},[a("bk-form",{ref:"createBotRef",attrs:{"label-width":200,"form-type":"vertical",model:t.createBot.form.data,rules:t.createBot.form.rules}},[a("bk-form-item",{attrs:{label:"类型",required:true,property:"botType"}},[a("bk-select",{attrs:{searchable:"",placeholder:"请选择机器人类型"},model:{value:t.createBot.form.data.botType,callback:function(e){t.$set(t.createBot.form.data,"botType",e)},expression:"createBot.form.data.botType"}},[a("bk-option",{attrs:{id:"default",name:"OPSBOT"}}),t._v(" "),a("bk-option",{attrs:{id:"qq",name:"QQ"}}),t._v(" "),a("bk-option",{attrs:{id:"xwork",name:"企业微信"}}),t._v(" "),a("bk-option",{attrs:{id:"wechat",name:"微信"}}),t._v(" "),a("bk-option",{attrs:{id:"slack",name:"Slack",disabled:""}})],1)],1),t._v(" "),a("bk-form-item",{attrs:{label:"名称",required:true,property:"botName"}},[a("bk-input",{attrs:{placeholder:"请输入新名称"},model:{value:t.createBot.form.data.botName,callback:function(e){t.$set(t.createBot.form.data,"botName",e)},expression:"createBot.form.data.botName"}})],1),t._v(" "),t.createBot.form.data.botType==="xwork"?a("bk-form-item",{attrs:{label:"WebHook",required:true,property:"xworkWebHook"}},[a("bk-input",{attrs:{placeholder:"请输入回调地址"},model:{value:t.createBot.form.data.xworkWebHook,callback:function(e){t.$set(t.createBot.form.data,"xworkWebHook",e)},expression:"createBot.form.data.xworkWebHook"}})],1):t._e(),t._v(" "),t.createBot.form.data.botType==="xwork"?a("bk-form-item",{attrs:{label:"Token",required:true,property:"xworkToken"}},[a("bk-input",{attrs:{placeholder:"请输入Token"},model:{value:t.createBot.form.data.xworkToken,callback:function(e){t.$set(t.createBot.form.data,"xworkToken",e)},expression:"createBot.form.data.xworkToken"}})],1):t._e(),t._v(" "),t.createBot.form.data.botType==="xwork"?a("bk-form-item",{attrs:{label:"EncodingAESKey",required:true,property:"xworkEncodingAESKey"}},[a("bk-input",{attrs:{placeholder:"请输入AesKey"},model:{value:t.createBot.form.data.xworkEncodingAESKey,callback:function(e){t.$set(t.createBot.form.data,"xworkEncodingAESKey",e)},expression:"createBot.form.data.xworkEncodingAESKey"}})],1):t._e()],1)],1)],1)};var i=[]},584:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"app-container"}),t._v(" "),a("div",{staticClass:"app-content"},[a("div",{staticClass:"wrapper"},[a("bk-container",{attrs:{col:12,gutter:4}},[a("bk-row",[a("bk-col",{attrs:{span:9}},[a("div",{staticClass:"content"},[a("bk-button",{attrs:{theme:"primary",title:"新建","ext-cls":"opsbot-button"},on:{click:function(e){return t.openIntentCreate("intentCreate",null)}}},[t._v("新建技能")]),t._v(" "),a("bk-button",{staticClass:"mr10",staticStyle:{"margin-right":"0 !important"},attrs:{theme:"default",title:"刷新"},on:{click:function(e){return t.getTableData(1,t.intentTableData.searchData.query)}}},[t._v("刷新")])],1)]),t._v(" "),a("bk-col",{attrs:{span:3}},[a("div",{staticClass:"content"},[a("bk-search-select",{attrs:{clearable:"","show-popover-tag-change":true,data:t.intentTableData.searchData.data,"show-condition":false},on:{change:function(e){return t.getTableData(1,t.intentTableData.searchData.query)},clear:function(e){return t.getTableData(1,t.intentTableData.searchData.query)}},model:{value:t.intentTableData.searchData.query,callback:function(e){t.$set(t.intentTableData.searchData,"query",e)},expression:"intentTableData.searchData.query"}})],1)])],1),t._v(" "),a("bk-row",{staticClass:"mt15"},[a("bk-col",{attrs:{span:12}},[a("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.intentTableData.loading,theme:"primary"},expression:"{ isLoading: intentTableData.loading, theme: 'primary' }"}],attrs:{data:t.intentTableData.data,size:"small",pagination:t.intentTableData.pagination},on:{"page-change":t.handleTablePageChangeAsync,"page-limit-change":t.handleTablePageChangeAsync,"selection-change":function(e){return t.handleTableSelectionChange(e,t.intentYW,"intentTableData")}}},[a("bk-table-column",{attrs:{label:"技能名称",prop:"intent_name"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-link",{attrs:{theme:"primary"},on:{click:function(a){return t.openIntentCreate("intentCreate",e.row)}}},[t._v("\n                                        "+t._s(e.row.intent_name)+"\n                                    ")])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"可执行人",prop:"available_user"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.available_user.join(",")))])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"可执行群",prop:"available_group"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.available_group.join(",")))])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"修改时间",prop:"updated_at"}}),t._v(" "),a("bk-table-column",{attrs:{label:"状态",prop:"status",width:"150",filters:t.intentTableData.filters.statusFilter.tag,"filter-method":t.intentTableData.filters.statusFilter.filterMethod},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-switcher",{attrs:{theme:"primary",size:"small"},on:{change:function(a){return t.popConfirm("intentUpdateStatus",e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-button",{ref:"intent-"+e.$index,staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){return t.openIntentCreate("intentCreate",e.row)}}},[t._v("\n                                        编辑")]),t._v(" "),a("bk-popconfirm",{attrs:{trigger:"click","confirm-button-is-text":false,"confirm-text":"确定","cancel-text":"取消"},on:{confirm:function(e){return t.deleteInfo(t.intentYW,"intentDelete","","delete")}}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[a("i",{staticClass:"bk-icon icon-info-circle-shape pr5",staticStyle:{color:"red"}}),t._v("\n                                                确认删除该项技能: "+t._s(e.row.intent_name)+"\n                                            ")])]),t._v(" "),a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){t.dialogOpen(t.intentYW,"intentDelete",t.intentDelete.openCallback(t.intentYW,e.row))}}},[t._v("删除")])],1)]}}])})],1)],1)],1)],1)],1)]),t._v(" "),a("intentCreateSlider",{ref:"intentCreateRef",attrs:{"bot-id":t.indexId,"biz-id":t.bizId},on:{getTableData:t.getTableData}})],1)};var i=[]},585:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",[t.isAuth===true?a("div",{staticClass:"main-content"},[a("div",{staticClass:"app-container"}),t._v(" "),a("div",{staticClass:"app-content"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"task-layout"},[a("div",{class:["layout-left",t.isOpen]},[a("div",{staticClass:"scroll-faker-wrapper"},[a("div",{staticClass:"scroll-faker-content"},[a("div",{staticClass:"job-tag-wrapper"},t._l(t.baseNameTable.data,function(e){return a("div",{key:e.id,class:e.class,on:{click:function(a){return t.handleBaseNameSelect(e)}}},[a("i",{staticClass:"tag-flag bk-icon icon-data"}),t._v(" "),a("div",{staticClass:"tag-name"},[a("div",{staticClass:"name-text",attrs:{tabindex:"0"}},[t._v(t._s(e.faq_name))])]),t._v(" "),a("div",{staticClass:"tag-num-box"},[a("span",{staticClass:"tag-num"},[t._v(t._s(e.num))])])])}),0)])])]),t._v(" "),a("div",{staticClass:"layout-right"},[a("div",{staticClass:"toggle-button"},[a("bk-button",{attrs:{theme:"default",text:""},on:{click:t.switchTab}},[a("i",{class:["bk-icon",t.openAngle]})])],1),t._v(" "),a("bk-container",{attrs:{col:12,gutter:4}},[a("bk-row",[a("bk-col",{attrs:{span:7}},[a("div",{staticClass:"content"},[a("bk-button",{staticClass:"mr10",attrs:{title:"primary",text:true,"hover-theme":"primary"},on:{click:function(e){return t.dialogOpen("createQA")}}},[t._v("\n                                            新建\n                                        ")]),t._v(" "),a("bk-button",{staticClass:"mr10",attrs:{title:"warning","hover-theme":"primary",disabled:t.multipleSelection.length===0?true:false},on:{click:function(e){return t.dialogOpen("deleteQA")}}},[t._v("\n                                            删除\n                                        ")])],1)]),t._v(" "),a("bk-col",{attrs:{span:5}},[a("div",{staticClass:"content"},[a("bk-search-select",{attrs:{clearable:"","show-popover-tag-change":true,data:t.searchData.data,"show-condition":false},on:{change:t.searchResult,clear:function(e){return t.getQATableData(t.selectDB,t.selectCollection)}},model:{value:t.searchData.query,callback:function(e){t.$set(t.searchData,"query",e)},expression:"searchData.query"}})],1)])],1),t._v(" "),a("bk-row",[a("bk-col",{attrs:{span:12}},[a("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.knowledgeBaseTable.loading,theme:"primary"},expression:"{ isLoading: knowledgeBaseTable.loading, theme: 'primary' }"}],staticStyle:{"margin-top":"15px"},attrs:{data:t.knowledgeBaseTable.data,size:"small","max-height":"666",pagination:t.knowledgeBaseTable.pagination},on:{"page-change":t.handlePageChange,"page-limit-change":t.handlePageLimitChange,"selection-change":t.handleTableSelectionChange}},[a("bk-table-column",{attrs:{type:"selection",width:"60"}}),t._v(" "),a("bk-table-column",{attrs:{label:"ID",prop:"_id"}}),t._v(" "),a("bk-table-column",{attrs:{label:"问题",prop:"question"}}),t._v(" "),a("bk-table-column",{attrs:{label:"答案",prop:"solution"}}),t._v(" "),a("bk-table-column",{attrs:{label:"创建人",prop:"username",width:"100"}}),t._v(" "),a("bk-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){return t.dialogOpen("createQA",e.row)}}},[t._v("编辑")])]}}],null,false,3108305855)})],1)],1)],1)],1)],1)])])]),t._v(" "),a("bk-dialog",{attrs:{theme:"primary",width:"600","header-position":"left",title:t.createQA.title,"auto-close":false,loading:t.createQA.loading},on:{confirm:function(e){return t.dialogValidate("createQA","createQARef")},"after-leave":function(e){return t.dialogClean("createQARef")}},model:{value:t.createQA.visible,callback:function(e){t.$set(t.createQA,"visible",e)},expression:"createQA.visible"}},[a("bk-form",{ref:"createQARef",attrs:{"label-width":100,model:t.createQA.form.data,rules:t.createQA.form.rules}},[t._l(t.createQA.form.data.questions,function(e,n){return a("bk-form-item",{key:n,attrs:{label:"问题",required:true,rules:t.createQA.form.rules.question,"icon-offset":95,property:"questions."+n+".value"}},[a("bk-input",{attrs:{placeholder:"请输入问题"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"question.value"}},[a("template",{slot:"append"},[a("bk-button",{staticStyle:{border:"none",height:"30px","border-radius":"0"},attrs:{icon:"plus",theme:"primary"},on:{click:t.addQuestion}},[t._v("新增")])],1)],2)],1)}),t._v(" "),a("bk-form-item",{attrs:{label:"解决方案",required:true,property:"solution"}},[a("bk-input",{attrs:{placeholder:"请输入解决方案"},model:{value:t.createQA.form.data.solution,callback:function(e){t.$set(t.createQA.form.data,"solution",e)},expression:"createQA.form.data.solution"}})],1)],2)],1),t._v(" "),a("bk-dialog",{attrs:{theme:"primary",width:"500","header-position":"left",title:t.deleteQA.title,"auto-close":false,loading:t.deleteQA.loading},on:{confirm:function(e){return t.dialogValidate("deleteQA","")},"after-leave":function(e){return t.dialogClean("deleteQARef")}},model:{value:t.deleteQA.visible,callback:function(e){t.$set(t.deleteQA,"visible",e)},expression:"deleteQA.visible"}},[t._v("\n            确认删除："),a("p",[t._v(t._s(t.deleteQA.tip))])])],1):a("bk-exception",{staticClass:"exception-wrap-item",attrs:{type:"403"}},[a("span",[t._v("无查看权限")]),t._v(" "),a("div",{staticClass:"text-subtitle"},[t._v("你没有相应业务的访问权限，请前往申请相关业务权限")]),t._v(" "),a("div",{staticClass:"text-wrap"},[a("span",{staticClass:"text-btn"},[t._v("找小明")])])])],1)};var i=[]},586:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"app-container"}),t._v(" "),a("div",{staticClass:"app-content"},[a("div",{staticClass:"wrapper"},[a("bk-container",{attrs:{col:12,gutter:4}},[a("bk-row",{staticClass:"mb15"},[a("bk-col",{attrs:{span:9}},[a("div",{staticClass:"content"},[a("bk-button",{attrs:{theme:"default",title:"设置绑定","hover-theme":"primary"},on:{click:function(e){t.dialogOpen(t.groupYW,"bindBizToGroup",t.bindBizToGroup.openCallback(t.groupYW))}}},[t._v("\n                                设置绑定")])],1)]),t._v(" "),a("bk-col",{attrs:{span:3}},[a("div",{staticClass:"content"},[a("bk-search-select",{attrs:{clearable:"","show-popover-tag-change":true,data:t.groupTableData.searchData.data,"show-condition":false},on:{change:function(e){return t.getGroupTableData(1,t.groupTableData.searchData.query)},clear:function(e){return t.getGroupTableData(1,t.groupTableData.searchData.query)}},model:{value:t.groupTableData.searchData.query,callback:function(e){t.$set(t.groupTableData.searchData,"query",e)},expression:"groupTableData.searchData.query"}})],1)])],1),t._v(" "),a("bk-row",[a("bk-col",{attrs:{span:12}},[a("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.groupTableData.loading,theme:"primary"},expression:"{ isLoading: groupTableData.loading, theme: 'primary' }"}],attrs:{data:t.groupTableData.data,pagination:t.groupTableData.pagination,"ext-cls":"opsbot-group-table"},on:{"page-change":t.handleTablePageChangeAsync,"selection-change":function(e){return t.handleTableSelectionChange(e,t.groupYW,"groupTableData")}}},[a("bk-table-column",{attrs:{type:"selection",width:"60"}}),t._v(" "),a("bk-table-column",{attrs:{label:"群名称",prop:"chat_group_name"}}),t._v(" "),a("bk-table-column",{attrs:{label:"群类型",prop:"chat_bot_type"}}),t._v(" "),a("bk-table-column",{attrs:{label:"群ID",prop:"chat_group_id"}}),t._v(" "),a("bk-table-column",{attrs:{label:"更新人",prop:"updated_by"}}),t._v(" "),a("bk-table-column",{attrs:{label:"更新时间",prop:"updated_at"}}),t._v(" "),a("bk-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-button",{ref:"group-"+e.$index,staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){t.dialogOpen(t.groupYW,"bindBizToGroup",t.bindBizToGroup.openCallback(t.groupYW,e.row))}}},[t._v("编辑")]),t._v(" "),a("bk-popconfirm",{attrs:{trigger:"click","confirm-button-is-text":false,"confirm-text":"确定","cancel-text":"取消"},on:{confirm:function(e){return t.dialogConfirm(t.groupYW,"unBindBizToGroup","","delete")}}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",[a("i",{staticClass:"bk-icon icon-info-circle-shape pr5",staticStyle:{color:"red"}}),t._v("\n                                                确认解除群绑定: "+t._s(e.row.chat_group_id)+"\n                                            ")])]),t._v(" "),a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){t.dialogOpen(t.groupYW,"unBindBizToGroup",t.unBindBizToGroup.openCallback(t.groupYW,e.row))}}},[t._v("删除")])],1)]}}])})],1)],1)],1)],1)],1)]),t._v(" "),a("bk-dialog",{attrs:{theme:"primary",width:"500","header-position":"left",title:t.bindBizToGroup.title,"auto-close":false,loading:t.bindBizToGroup.loading},on:{confirm:function(e){return t.dialogConfirm(t.groupYW,"bindBizToGroup","bindBizToGroupRef",t.bindBizToGroup.method)},"after-leave":function(e){return t.dialogClean(t.groupYW,"bindBizToGroup")}},model:{value:t.bindBizToGroup.visible,callback:function(e){t.$set(t.bindBizToGroup,"visible",e)},expression:"bindBizToGroup.visible"}},[a("bk-form",{ref:"bindBizToGroupRef",attrs:{"label-width":200,"form-type":"vertical",model:t.bindBizToGroup.form.data,rules:t.bindBizToGroup.form.rules}},[a("bk-form-item",{attrs:{label:"类型",required:true,property:"chat_bot_type"}},[a("bk-select",{attrs:{searchable:"",placeholder:"请选择机器人类型",disabled:""},model:{value:t.bindBizToGroup.form.data.chat_bot_type,callback:function(e){t.$set(t.bindBizToGroup.form.data,"chat_bot_type",e)},expression:"bindBizToGroup.form.data.chat_bot_type"}},[a("bk-option",{attrs:{id:"default",name:"OPSBOT"}}),t._v(" "),a("bk-option",{attrs:{id:"qq",name:"QQ"}}),t._v(" "),a("bk-option",{attrs:{id:"xwork",name:"企业微信"}}),t._v(" "),a("bk-option",{attrs:{id:"wechat",name:"微信"}}),t._v(" "),a("bk-option",{attrs:{id:"slack",name:"Slack",disabled:""}})],1)],1),t._v(" "),a("bk-form-item",{attrs:{label:"业务",required:true,property:"biz_id"}},[a("bk-select",{attrs:{searchable:"",placeholder:"请选择机器业务",disabled:""},model:{value:t.bindBizToGroup.form.data.biz_id,callback:function(e){t.$set(t.bindBizToGroup.form.data,"biz_id",e)},expression:"bindBizToGroup.form.data.biz_id"}},t._l(t.bizData.data,function(t){return a("bk-option",{key:t.bk_biz_id,attrs:{id:t.bk_biz_id,name:t.bk_biz_name}})}),1)],1),t._v(" "),t.bindBizToGroup.method==="post"?a("bk-form-item",{attrs:{label:"群ID",required:true,property:"chat_group_id","desc-type":"icon",desc:"获取群ID方法：<br />\n                1.群中添加服务号：opsbot3.0机器人<br />\n                2.手动@opsbot3.0 并输入关键字'群ID'<br />\n                3.将获取到的群ID粘贴到输入框"}},[a("bk-input",{attrs:{placeholder:"请输入群ID"},model:{value:t.bindBizToGroup.form.data.chat_group_id,callback:function(e){t.$set(t.bindBizToGroup.form.data,"chat_group_id",e)},expression:"bindBizToGroup.form.data.chat_group_id"}})],1):t._e(),t._v(" "),a("bk-form-item",{attrs:{label:"群名称",required:true,property:"chat_group_name"}},[a("bk-input",{attrs:{placeholder:"请输入群名称"},model:{value:t.bindBizToGroup.form.data.chat_group_name,callback:function(e){t.$set(t.bindBizToGroup.form.data,"chat_group_name",e)},expression:"bindBizToGroup.form.data.chat_group_name"}})],1)],1)],1)],1)};var i=[]},587:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",{staticClass:"container"},[!t.isCommit?a("van-form",{on:{submit:t.onSubmit}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[a("br"),t._v(" "),a("van-skeleton",{attrs:{title:"",row:10,round:true}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[a("div",{staticClass:"title"},[t._v(t._s(t.name))]),t._v(" "),a("div",{staticClass:"bizovDivider"}),t._v(" "),t._l(t.datas,function(e,n){return a("div",{key:n},[e.type==="field"?a("div",[a("van-field",{attrs:{name:e.attrs.name,label:e.attrs.label,placeholder:e.attrs.label,autosize:true,rules:[{required:true,message:"请填写"+e.attrs.label}]},model:{value:e.val,callback:function(a){t.$set(e,"val",a)},expression:"data.val"}})],1):e.type==="picker"?a("div",[a("van-field",{attrs:{readonly:"",clickable:"false",name:e.attrs.name,value:e.val,label:e.attrs.label,placeholder:e.attrs.label},on:{click:function(e){return t.changePickerShow(n)}}}),t._v(" "),a("van-popup",{attrs:{"lazy-render":t.lazyRender,position:"bottom"},model:{value:e.show,callback:function(a){t.$set(e,"show",a)},expression:"data.show"}},[a("van-picker",{ref:"picker"+n,refInFor:true,attrs:{"show-toolbar":"",columns:e.attrs.values,loading:e.loading},on:{confirm:function(e){return t.onConfirm(n)},cancel:function(t){e.show=false},change:t.checkScroll}})],1)],1):e.type==="datetime-picker"?a("div",[a("van-field",{attrs:{readonly:"",clickable:"",name:e.attrs.name,value:e.val,label:e.attrs.label,placeholder:e.attrs.label},on:{click:function(t){e.show=true}}}),t._v(" "),a("van-popup",{attrs:{"lazy-render":t.lazyRender,position:"bottom"},model:{value:e.show,callback:function(a){t.$set(e,"show",a)},expression:"data.show"}},[a("van-datetime-picker",{ref:"picker"+n,refInFor:true,attrs:{type:e.attrs.type,"min-date":t.minDate,"max-date":t.maxDate},on:{confirm:function(e){return t.onConfirmDateTime(n)},cancel:function(t){e.show=false}}})],1)],1):e.type==="calendar"?a("div",[a("van-field",{attrs:{readonly:"",clickable:"",name:e.attrs.name,value:e.val,label:e.attrs.label,placeholder:e.attrs.label},on:{click:function(t){e.show=true}}}),t._v(" "),a("van-calendar",{ref:"picker"+n,refInFor:true,on:{confirm:function(e){return t.onConfirmCalendar(n)}},model:{value:e.show,callback:function(a){t.$set(e,"show",a)},expression:"data.show"}})],1):e.type==="switch"?a("div",[a("van-field",{attrs:{name:e.attrs.name,label:e.attrs.label}},[a("template",{slot:"input"},[a("van-switch",{attrs:{size:"20"},model:{value:e.attrs.bool,callback:function(a){t.$set(e.attrs,"bool",a)},expression:"data.attrs.bool"}})],1)],2)],1):e.type==="radio"?a("div",[a("van-field",{attrs:{name:e.attrs.name,label:e.attrs.label}},[a("template",{slot:"input"},[a("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.attrs.radio,callback:function(a){t.$set(e.attrs,"radio",a)},expression:"data.attrs.radio"}},[a("van-radio",{attrs:{name:"1"}},[t._v("单选框 1")]),t._v(" "),a("van-radio",{attrs:{name:"2"}},[t._v("单选框 2")])],1)],1)],2)],1):t._e()])}),t._v(" "),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info",square:"true","native-type":"submit"}},[t._v("提交")])],1)],2)]):a("div",{staticClass:"flexBox"},[a("van-icon",{staticClass:"innerIcon",attrs:{name:"certificate"}}),t._v(" "),a("div",{staticClass:"commit-text"},[t._v("\n            提交成功\n            "),a("van-button",{staticClass:"again-button",attrs:{type:"primary"},on:{click:t.again}},[t._v("再来一单")])],1)],1)],1)};var i=[]},588:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"app-content"},[a("bk-container",{attrs:{col:12,gutter:4}},[a("bk-row",[a("bk-col",{attrs:{span:9}},[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",title:"主要按钮"},on:{click:function(e){return t.openCorpusCreate("corpusCreate")}}},[a("bk-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"plus"}}),t._v("\n                        创建语料\n                    ")],1),t._v(" "),a("bk-button",{staticClass:"mr10",attrs:{theme:"default",title:"主要按钮"},on:{click:t.show}},[t._v("\n                        本地导入\n                    ")])],1),t._v(" "),a("bk-col",{attrs:{span:3}},[a("bk-search-select",{attrs:{clearable:"","show-condition":false,"show-popover-tag-change":true,data:t.searchData},on:{change:function(e){return t.getCorpusList(t.search.value)}},model:{value:t.search.value,callback:function(e){t.$set(t.search,"value",e)},expression:"search.value"}})],1)],1),t._v(" "),a("bk-row",{staticClass:"margin-content"},[a("bk-col",{attrs:{span:12}},[a("bk-table",{ref:"table",attrs:{data:t.data,size:"large",pagination:t.pagination},on:{"page-limit-change":t.pageLimitChange,"page-change":t.pageChange}},[a("bk-table-column",{attrs:{label:"语句",fixed:"left",width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",t._l(e.row.slots,function(n){return n.key==="dontcolortext"?a("span",{key:n},[t._v(t._s(e.row.text.slice(n.index[0],n.index[1])))]):a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:n.value,expression:"slot.value",modifiers:{top:true}}],staticClass:"colorText",style:{background:n.color}},[t._v(t._s(e.row.text.slice(n.index[0],n.index[1])))])}),0)]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"领域",width:"200",prop:"domain.name",filters:t.sourceFilters,"filter-method":t.sourceFilterMethod,"filter-multiple":true}}),t._v(" "),a("bk-table-column",{attrs:{label:"意图",width:"200",prop:"intent.name"}}),t._v(" "),a("bk-table-column",{attrs:{label:"创建时间",width:"250",prop:"created_at"}}),t._v(" "),a("bk-table-column",{attrs:{label:"创建人",width:"200",prop:"created_by"}}),t._v(" "),a("bk-table-column",{attrs:{label:"最后修改时间",width:"250",prop:"updated_at"}}),t._v(" "),a("bk-table-column",{attrs:{label:"最后修改人",width:"200",prop:"updated_by"}}),t._v(" "),a("bk-table-column",{attrs:{label:"操作",fixed:"right",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.source!=="QQ"?a("bk-icon",{staticClass:"pointer",attrs:{type:"cog-shape"},on:{click:function(a){return t.openCorpusCreate("corpusEdit",e.row)}}}):t._e(),t._v(" "),a("bk-icon",{staticClass:"pointer",attrs:{type:"close-circle-shape"},on:{click:function(a){return t.deleteCorpus(e.row.id)}}})]}}])}),t._v(" "),a("bk-dialog",{attrs:{"confirm-fn":t.delCorpus,"header-position":t.rmDialog.headerPosition,width:t.rmDialog.width},model:{value:t.rmDialog.visible,callback:function(e){t.$set(t.rmDialog,"visible",e)},expression:"rmDialog.visible"}},[a("div",{staticStyle:{"text-align":"center"}},[a("bk-icon",{staticClass:"warnIcon",attrs:{type:"exclamation-circle-shape"}}),t._v(" "),a("div",{staticClass:"rmTitle"},[t._v("确定要删除此项语句吗？")]),t._v(" "),a("div",{staticClass:"rmInfo"},[t._v("删除后不可恢复，请谨慎操作")])],1)])],1)],1)],1),t._v(" "),a("bk-dialog",{attrs:{title:"上传","header-position":t.center,width:720},on:{confirm:t.confirm},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[t.showDialog?a("bk-upload",{attrs:{tip:"只允许上传JSON的文件","with-credentials":true,"handle-res-code":t.handleRes,accept:".json",url:"https://jsonplaceholder.typicode.com/posts/"},on:{"on-success":t.testSuccess,"on-progress":t.testProgress,"on-done":t.testDone,"on-error":t.testErr}}):t._e(),t._v("\n                模板下载:\n            ")],1)],1)],1),t._v(" "),a("corpusCreateSlider",{ref:"corpusCreateRef",on:{getCorpusList:t.getCorpusList}})],1)};var i=[]},589:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",[a("bk-sideslider",{attrs:{"is-show":t.slideSlider.isShow,"quick-close":true,width:"740"},on:{"update:isShow":function(e){return t.$set(t.slideSlider,"isShow",e)},"update:is-show":function(e){return t.$set(t.slideSlider,"isShow",e)},hidden:t.dialogClean}},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.slideSlider.title))]),t._v(" "),a("div",{staticClass:"p20",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"firstStepForm"},[a("bk-form",[a("bk-form-item",{staticClass:"StepFormTitle"},[a("div",[t._v("第一步：指定领域与意图信息")])]),t._v(" "),a("bk-form-item",{attrs:{label:"领域类型",desc:t.fieldDesc,"desc-type":"icon","desc-icon":"icon-question-circle-shape"}},[a("bk-select",{attrs:{disabled:t.submitFuc==="edit","ext-cls":"select-custom",searchable:"",placeholder:"请选择领域"},on:{change:t.getIntentList},model:{value:t.firstStepForm.fieldType,callback:function(e){t.$set(t.firstStepForm,"fieldType",e)},expression:"firstStepForm.fieldType"}},t._l(t.firstStepForm.fieldTypeList,function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})}),1)],1),t._v(" "),a("bk-form-item",{attrs:{label:"意图类型",desc:t.intentDesc,"desc-type":"icon","desc-icon":"icon-question-circle-shape"}},[a("bk-select",{attrs:{disabled:t.submitFuc==="edit",searchable:"",placeholder:"请选择意图"},on:{change:function(e){return t.showSlots()}},model:{value:t.firstStepForm.intentType,callback:function(e){t.$set(t.firstStepForm,"intentType",e)},expression:"firstStepForm.intentType"}},t._l(t.firstStepForm.intentTypeList,function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})}),1)],1)],1),t._v(" "),t.firstStepForm.intentType?a("div",{staticClass:"wordSlot",staticStyle:{margin:"10px 0px"}},[a("bk-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"info-circle-shape"}}),t._v(" "),a("span",{staticStyle:{width:"200px"}},[t._v("已选定的意图中所包含的词槽：")]),t._v(" "),t._l(t.firstStepForm.slots,function(e){return a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:"词槽含义： "+e.value,expression:"'词槽含义： ' + slot.value",modifiers:{top:true}}],key:e.key,staticClass:"wordSlotTag",style:{background:e.color,display:t.block}},[t._v(t._s(e.key))])})],2):t._e()],1),t._v(" "),a("div",{staticClass:"secondStepForm"},[a("bk-form",{staticStyle:{"justify-content":"center","align-items":"center"}},[a("bk-form-item",{staticClass:"StepFormTitle"},[a("div",[t._v("第二步：语句录入")])]),t._v(" "),a("div",{staticStyle:{"margin-left":"0"}},[a("div",{staticClass:"statementIncrement"},[a("bk-input",{attrs:{clearable:true},model:{value:t.slotsText,callback:function(e){t.slotsText=e},expression:"slotsText"}}),t._v(" "),a("bk-button",{attrs:{theme:"primary",title:"添加",icon:"plus"},on:{click:t.storeSlots}},[t._v("添加")])],1)])],1)],1),t._v(" "),a("div",{staticClass:"secondStepForm",staticStyle:{height:"150px","overflow-x":"scroll"}},[a("bk-form",{staticStyle:{"justify-content":"center","align-items":"center"}},[a("bk-form-item",{staticClass:"StepFormTitle"},[a("div",[t._v("第三步：词槽标注")])]),t._v(" "),a("div",[a("div",{staticStyle:{width:"100%"}},[a("div",{staticStyle:{position:"relative"}},[a("div",{staticStyle:{position:"absolute","white-space":"nowrap","overflow-x":"auto"},domProps:{innerHTML:t._s(t.thirdStepForm.showText)}}),t._v(" "),a("div",{staticStyle:{position:"absolute","overflow-x":"auto","white-space":"nowrap",color:"transparent",background:"transparent"},on:{mouseup:t.show}},[t._v(t._s(t.thirdStepForm.hiddenText))])])])])],1)],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("bk-button",{staticStyle:{"margin-left":"30px"},attrs:{theme:"primary"},on:{click:t.submitFormData}},[t._v("确定\n            ")]),t._v(" "),a("bk-button",{attrs:{theme:"default"},on:{click:function(e){t.slideSlider.isShow=false}}},[t._v("关闭")]),t._v(" "),a("div",{ref:"demo",attrs:{id:"demo"}},[t._l(t.firstStepForm.slots,function(e){return a("div",{key:e.key,staticClass:"slot-item",on:{click:function(a){return t.changeSlotColor(e.color,e.key,e.value)}}},[a("div",{staticClass:"slot-circle",style:{background:e.color}}),t._v(" "),a("div",[t._v("{ "+t._s(e.key)+" }")]),t._v(" "),a("div",[t._v("{ "+t._s(e.value)+" }")])])}),t._v(" "),a("div",{staticClass:"slot-delete",on:{click:t.deleteSlot}},[a("bk-icon",{staticStyle:{"font-size":"18px"},attrs:{type:"close-circle"}}),t._v("\n                    解绑词槽")],1)],2)],1)])],1)};var i=[]},590:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var n=t._self._c||e;return n("div",{staticClass:"main-content"},[n("div",{staticClass:"app-content"},[n("div",{staticClass:"tabClass"},[n("bk-tab",{staticStyle:{height:"60px","margin-bottom":"20px"},attrs:{active:t.active,type:"unborder-card"},on:{"update:active":function(e){t.active=e},"tab-change":t.getPluginList}},t._l(t.panels,function(e,a){return n("bk-tab-panel",t._b({key:a},"bk-tab-panel",e,false))}),1)],1),t._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.listLoading,theme:"primary",zIndex:10},expression:"{ isLoading: listLoading, theme: 'primary', zIndex: 10 }"}]},[n("div",{staticClass:"middle-item"},[n("div",{staticClass:"plugin-count"},[n("span",[t._v("总数："+t._s(t.pluginCount))])]),t._v(" "),n("div",{staticClass:"search-items"},[n("bk-select",{staticStyle:{width:"278px","margin-right":"20px"},attrs:{disabled:false,placeholder:"选择排序方式","ext-cls":"select-custom","ext-popover-cls":"select-popover-custom"},on:{change:function(e){return t.sortPluginList(t.newValue,t.oldValue)}},model:{value:t.sortWay,callback:function(e){t.sortWay=e},expression:"sortWay"}},t._l(t.sortList,function(t){return n("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})}),1),t._v(" "),n("bk-input",{staticStyle:{width:"278px"},attrs:{placeholder:"键入插件名称，回车或点击右边的icon搜索","right-icon":"bk-icon icon-search"},on:{enter:t.searchPlugin,"right-icon-click":t.searchPlugin},model:{value:t.pluginName,callback:function(e){t.pluginName=e},expression:"pluginName"}})],1)]),t._v(" "),n("div",{staticStyle:{width:"100%",height:"100%",overflow:"auto","max-height":"60vh"}},t._l(t.pluginList,function(e){return n("div",{key:e.id,staticClass:"plugin-card"},[n("div",{staticClass:"plugin-card-top"},[n("img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/static/images/plugin_icon/"+e.plugin_icon+".png"}}),t._v(" "),n("div",{staticClass:"plugin-name"},[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top-start",value:e.plugin_name,expression:"plugin.plugin_name",modifiers:{"top-start":true}}],class:{public_plugin:e.plugin_type===1,private_plugin:e.plugin_type===0}},[t._v(t._s(e.plugin_name)+"\n                            ")])]),t._v(" "),e.plugin_type===0?n("div",{staticClass:"plugin-private"},[n("span",[t._v("业务专属")])]):t._e()]),t._v(" "),n("div",{staticClass:"plugin-card-middle"},[n("img",{staticStyle:{width:"12px",height:"12px",opacity:"0.5","margin-top":"4px","margin-right":"3px"},attrs:{src:a(488)}}),t._v(" "),n("span",{staticClass:"plugin-creator"},[t._v(t._s(e.created_by))]),t._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("span",{staticClass:"plugin-tag"},[t._v(t._s(e.plugin_tag))]),t._v(" "),n("span",{staticClass:"plugin-status"},[t._v("已安装")])])]),t._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("span",{staticClass:"plugin-execution-times"},[t._v("\n                            执行次数："+t._s(e.plugin_exec_count)+"\n                        ")])])])}),0)])])])};var i=[]},591:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"app-content"},[a("bk-container",{attrs:{col:12,gutter:4}},[a("bk-row",[a("div",{staticStyle:{width:"100%",display:"flex"}},[a("div",{staticStyle:{width:"calc(100% - 118px)"}},[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",title:"新增插件"},on:{click:function(e){return t.openPluginCreate("pluginCreateRef",null,null)}}},[a("bk-icon",{staticStyle:{"font-size":"20px"},attrs:{type:"plus"}}),t._v("\n                            新增插件\n                        ")],1),t._v(" "),a("bk-input",{staticStyle:{width:"278px"},attrs:{clearable:"",placeholder:"请输入插件名称搜索","right-icon":"bk-icon icon-search"},on:{change:t.searchPlugin},model:{value:t.searchPluginName,callback:function(e){t.searchPluginName=e},expression:"searchPluginName"}})],1),t._v(" "),a("div",{staticStyle:{"justify-items":"flex-end"}},[a("bk-button",{attrs:{theme:"primary",title:"插件生产指引",outline:true},on:{click:t.openDocument}},[t._v("插件生产指引")])],1)])]),t._v(" "),a("bk-row",{staticClass:"margin-content"},[a("bk-col",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.tableLoading,theme:"primary",zIndex:10},expression:"{ isLoading: tableLoading, theme: 'primary', zIndex: 10 }"}],attrs:{span:12}},[a("bk-table",{ref:"table",attrs:{data:t.pluginList,pagination:t.pagination},on:{"page-change":t.handlePageChange,"page-limit-change":t.handlePageLimitChange}},[a("bk-table-column",{attrs:{label:"插件名称",prop:"plugin_name","min-width":"10"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.row.plugin_name,expression:"props.row.plugin_name"}]},[t._v("\n                                    "+t._s(e.row.plugin_name)+"\n                                ")])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"当前状态","min-width":"10"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:t.statusList[e.row.plugin_status].css},[e.row.plugin_status===2?a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"审批人：mingli(李明)",expression:"'审批人：mingli(李明)'"}]},[t._v("\n                                        "+t._s(t.statusList[e.row.plugin_status].name)+"\n                                    ")]):a("span",[t._v("\n                                        "+t._s(t.statusList[e.row.plugin_status].name)+"\n                                    ")])])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"插件类型","min-width":"15"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.pluginTypeList[e.row.plugin_type]))])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"生效业务","min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.row.biz_name_list,expression:"props.row.biz_name_list"}]},[t._v("\n                                    "+t._s(e.row.biz_name_list)+"\n                                ")])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"创建时间",prop:"created_at","min-width":"20"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.row.created_at,expression:"props.row.created_at"}]},[t._v("\n                                    "+t._s(e.row.created_at)+"\n                                ")])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:"创建人",prop:"created_by","min-width":"10"}}),t._v(" "),a("bk-table-column",{attrs:{label:"操作","min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.plugin_status===0?a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){return t.openPluginCreate("pluginCreateRef",e.row,"edit")}}},[t._v("编辑")]):t._e(),t._v(" "),e.row.plugin_status===1?a("bk-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"如想更新插件，需要先撤回，重新灰度测试",expression:"`如想更新插件，需要先撤回，重新灰度测试`"}],staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){return t.cancelStag(e.row)}}},[t._v("撤回")]):t._e(),t._v(" "),e.row.plugin_status===3?a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){return t.openPluginCreate("pluginCreateRef",e.row,"detail")}}},[t._v("详情")]):t._e(),t._v(" "),e.row.plugin_status!==2?a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){return t.operatePlugin(e.row)}}},[t._v(t._s(t.operation[e.row.plugin_status]))]):a("div",[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){return t.cancelReview(e.row)}}},[t._v("取消上架")])],1),t._v(" "),e.row.plugin_status===0||e.row.plugin_status===1?a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",text:""},on:{click:function(a){return t.removePlugin(e.row)}}},[t._v("删除")]):t._e()]}}])}),t._v(" "),a("bk-dialog",{attrs:{"header-position":t.downGradeDialog.headerPosition,width:t.downGradeDialog.width},on:{confirm:t.confirmDownGradePlugin},model:{value:t.downGradeDialog.visible,callback:function(e){t.$set(t.downGradeDialog,"visible",e)},expression:"downGradeDialog.visible"}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"confirmTitle"},[t._v("确定要下架该插件么？")])])]),t._v(" "),a("bk-dialog",{attrs:{"header-position":t.confirmDeleteDialog.headerPosition,width:t.confirmDeleteDialog.width},on:{confirm:t.confirmDeletePlugin},model:{value:t.confirmDeleteDialog.visible,callback:function(e){t.$set(t.confirmDeleteDialog,"visible",e)},expression:"confirmDeleteDialog.visible"}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"confirmTitle"},[t._v("确定要删除该插件吗？")]),t._v(" "),a("div",{staticClass:"confirmTitle"},[t._v("删除后不可恢复，请谨慎操作")])])])],1)],1)],1)],1)],1),t._v(" "),a("pluginCreateSlider",{ref:"pluginCreateRef",on:{"init-workspace":t.reloadPluginList}})],1)};var i=[]},592:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",[t._v("aa")])};var i=[]},595:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",[a("bk-sideslider",{attrs:{"is-show":t.intentCreate.visible,"quick-close":true,"ext-cls":"opsbot-intent-slider",width:"800"},on:{"update:isShow":function(e){return t.$set(t.intentCreate,"visible",e)},"update:is-show":function(e){return t.$set(t.intentCreate,"visible",e)},hidden:function(e){return t.dialogClean("intentCreate")}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("bk-container",{attrs:{col:24}},[a("bk-row",[a("bk-col",{attrs:{span:3}},[a("span",[t._v("技能创建")])])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.see,expression:"see"}],staticClass:"env-layout",on:{mouseenter:function(e){return t.enter()},mouseleave:function(e){return t.leave()}}},[a("bk-table",{attrs:{data:t.envParmas,pagination:t.pagination,"show-header":false,"row-border":true,"cell-style":t.changeEnvInfoStyle}},[a("bk-table-column",{attrs:{label:"环境变量名称",prop:"name"}}),t._v(" "),a("bk-table-column",{attrs:{label:"环境变量描述",prop:"info"}}),t._v(" "),a("bk-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-button",{staticClass:"mr10 copy-env",attrs:{theme:"primary",text:"","data-clipboard-text":e.row.name},on:{click:function(a){return t.handleCopyEnv(e.row)}}},[t._v("复制")])]}}])})],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"wrapper"},[a("bk-container",{attrs:{col:12,gutter:4,"ext-cls":"opsbot-slider-container"}},[a("bk-row",[a("bk-col",{attrs:{span:12}},[a("bk-collapse",{staticClass:"opsbot-slider-collapse",model:{value:t.intentCreate.activeTaskMenu,callback:function(e){t.$set(t.intentCreate,"activeTaskMenu",e)},expression:"intentCreate.activeTaskMenu"}},[a("bk-collapse-item",{attrs:{name:"1"}},[t._v("\n                                    任务信息\n                                    "),a("div",{attrs:{slot:"content"},slot:"content"},[a("bk-form",{ref:"taskFormRef",attrs:{"label-width":100,model:t.intentCreate.taskForm,rules:t.intentCreate.taskRules}},[a("bk-form-item",{attrs:{label:"任务类型",required:true,property:"taskType"}},[a("bk-select",{attrs:{searchable:""},on:{selected:t.handleTaskTypeChange},model:{value:t.intentCreate.taskForm.taskType,callback:function(e){t.$set(t.intentCreate.taskForm,"taskType",e)},expression:"intentCreate.taskForm.taskType"}},t._l(t.taskTypeList,function(t){return a("bk-option",{key:t.id,attrs:{disabled:t.enable,id:t.id,name:t.name}})}),1)],1),t._v(" "),t.intentCreate.taskForm.taskType==="devops"?a("bk-form-item",{attrs:{label:"项目名称",required:true,property:"taskProject"}},[a("bk-select",{attrs:{searchable:"",loading:t.devopsProjectList.loading},on:{toggle:t.getDevopsProjectList,selected:t.handleProjectChange},model:{value:t.intentCreate.taskForm.taskProject,callback:function(e){t.$set(t.intentCreate.taskForm,"taskProject",e)},expression:"intentCreate.taskForm.taskProject"}},t._l(t.devopsProjectList.data,function(t){return a("bk-option",{key:t.bk_biz_id,attrs:{id:t.bk_biz_id,name:t.name}})}),1)],1):t._e(),t._v(" "),a("bk-form-item",{attrs:{label:"任务名称",required:true,property:"taskId"}},[a("bk-row",[a("bk-col",{attrs:{span:10}},[a("bk-select",{attrs:{searchable:"",loading:t.taskList.loading},on:{toggle:t.getTaskList,selected:t.getTaskDetail},model:{value:t.intentCreate.taskForm.taskId,callback:function(e){t.$set(t.intentCreate.taskForm,"taskId",e)},expression:"intentCreate.taskForm.taskId"}},t._l(t.taskList.data,function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})}),1)],1),t._v(" "),a("bk-col",{attrs:{span:1}},[a("bk-button",{attrs:{title:"toggle-lock",icon:"icon-refresh",text:""},on:{click:function(e){return t.getTaskDetail(t.intentCreate.taskForm.taskId,-1)}}})],1)],1)],1),t._v(" "),t.intentCreate.taskForm.taskType==="sops"&&t.intentCreate.taskForm.taskId!==""?a("bk-form-item",{attrs:{label:"任务分组",property:"taskGroup"}},[a("bk-select",{attrs:{searchable:"",multiple:"","display-tag":"",loading:t.sopsSchemes.loading},on:{toggle:t.getSopsSchemes,selected:t.handleSopsSchemesSelect},model:{value:t.intentCreate.taskForm.taskGroup,callback:function(e){t.$set(t.intentCreate.taskForm,"taskGroup",e)},expression:"intentCreate.taskForm.taskGroup"}},t._l(t.sopsSchemes.data,function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})}),1)],1):t._e(),t._v(" "),a("bk-form-item",{attrs:{label:"任务参数",property:"taskParams",desc:"你可以在这里定义技能执行所需要的参数。例如将“qa90 {versionNum} {GroupID}”填写到对应的步骤处"}},[a("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.taskParamsTable.loading,theme:"primary"},expression:"{ isLoading: taskParamsTable.loading, theme: 'primary' }"}],ref:"taskParamsTableRef",attrs:{data:t.taskParamsTable.data,size:"small","max-height":"400","ext-cls":"opsbot-slider-table",pagination:t.taskParamsTable.pagination,"header-cell-style":{background:"#fff"}},on:{"page-change":t.handlePoolPageChange,"page-limit-change":t.handlePoolPageLimitChange,"selection-change":t.handlePoolTableSelectionChange}},[a("bk-table-column",{attrs:{type:"expand",width:"30"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-table",{attrs:{data:t._f("toList")(e.row),"outer-border":false,"header-cell-style":{background:"#fff",borderRight:"none"}}},[a("bk-table-column",{attrs:{prop:"prompt",label:"提示语"}}),t._v(" "),a("bk-table-column",{attrs:{label:"默认值",prop:"value"}})],1)]}}])}),t._v(" "),a("bk-table-column",{attrs:{type:"index",label:"序号",prop:"priority",width:"80"}}),t._v(" "),a("bk-table-column",{attrs:{label:"参数名",prop:"name",sortable:""}}),t._v(" "),a("bk-table-column",{attrs:{label:"正则",prop:"pattern"}}),t._v(" "),a("bk-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bk-popover",{staticClass:"dot-menu",attrs:{placement:"bottom-start",theme:"dot-menu light",trigger:"click",arrow:false,offset:"15",distance:0}},[a("span",{staticClass:"dot-menu-trigger"}),t._v(" "),a("ul",{staticClass:"dot-menu-list",attrs:{slot:"content"},slot:"content"},[a("li",{staticClass:"dot-menu-item",on:{click:function(a){return t.dialogOpen("taskParamsConfig",e.row)}}},[t._v("修改")]),t._v(" "),a("li",{staticClass:"dot-menu-item",on:{click:function(a){return t.deleteParamItem(e.$index)}}},[t._v("删除")])])])]}}])})],1)],1)],1)],1)])],1)],1)],1),t._v(" "),a("bk-row",[a("bk-col",{attrs:{span:12}},[a("bk-collapse",{staticClass:"opsbot-slider-collapse",model:{value:t.intentCreate.activeBasicMenu,callback:function(e){t.$set(t.intentCreate,"activeBasicMenu",e)},expression:"intentCreate.activeBasicMenu"}},[a("bk-collapse-item",{attrs:{name:"1","custom-trigger-area":"true"}},[t._v("\n                                    技能参数\n                                    "),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("bk-form",{ref:"intentFormRef",attrs:{"label-width":100,model:t.intentCreate.intentForm,rules:t.intentCreate.intentRules}},[a("bk-form-item",{attrs:{label:"技能名称",required:true,property:"intentName"}},[a("bk-input",{attrs:{placeholder:"请输入技能名称",disabled:!(t.intent===null)},model:{value:t.intentCreate.intentForm.intentName,callback:function(e){t.$set(t.intentCreate.intentForm,"intentName",e)},expression:"intentCreate.intentForm.intentName"}})],1),t._v(" "),a("bk-form-item",{attrs:{label:"语料",required:true,property:"utterance",desc:"例如你有一个测试服部署的作业，那你可以添加这样一些语料：“测试服部署”、“QA服部署”等等，回车确认输入完成，多个黏贴;分隔"}},[a("bk-tag-input",{attrs:{placeholder:"请输入语料",list:t.list,"allow-create":true,"has-delete-icon":true,"paste-fn":t.pasteUtteranceFn},model:{value:t.intentCreate.intentForm.utterance,callback:function(e){t.$set(t.intentCreate.intentForm,"utterance",e)},expression:"intentCreate.intentForm.utterance"}})],1),t._v(" "),a("bk-form-item",{attrs:{label:"发起人",required:true,property:"authorityUsername",desc:"发起人必须在群里，回车确认输入完成"}},[a("bk-tag-input",{attrs:{"allow-create":true,"has-delete-icon":true},model:{value:t.intentCreate.intentForm.authorityUsername,callback:function(e){t.$set(t.intentCreate.intentForm,"authorityUsername",e)},expression:"intentCreate.intentForm.authorityUsername"}})],1),t._v(" "),a("bk-form-item",{attrs:{label:"发起群",required:true,property:"authorityGroup",desc:"在群中@opsbot '查看企业微信ID' 即可获取到企业微信群ID, 在业务群完成群绑定"}},[a("bk-row",[a("bk-col",{attrs:{span:10}},[a("bk-select",{attrs:{searchable:"",multiple:"","display-tag":"",placeholder:"请选择群ID"},model:{value:t.intentCreate.intentForm.authorityGroup,callback:function(e){t.$set(t.intentCreate.intentForm,"authorityGroup",e)},expression:"intentCreate.intentForm.authorityGroup"}},[t._l(t.groupSummary,function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})}),t._v(" "),a("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"extension"},on:{click:t.goGroupBind},slot:"extension"},[a("i",{staticClass:"bk-icon icon-plus-circle"}),t._v("新增\n                                                            ")])],2)],1),t._v(" "),a("bk-col",{attrs:{span:1}},[a("bk-button",{attrs:{title:"toggle-lock",icon:"icon-refresh",text:""},on:{click:function(e){return t.getGroupSummary()}}})],1)],1)],1),t._v(" "),a("bk-form-item",{attrs:{label:"执行确认",property:"doubleCommit",desc:"任务执行需要经过确认后才会被执行"}},[a("bk-switcher",{attrs:{theme:"primary"},model:{value:t.intentCreate.intentForm.doubleCommit,callback:function(e){t.$set(t.intentCreate.intentForm,"doubleCommit",e)},expression:"intentCreate.intentForm.doubleCommit"}})],1),t._v(" "),a("bk-form-item",{attrs:{label:"是否审批",property:"doubleCommit",desc:"任务执行需要经过审批后才会被执行"}},[a("bk-switcher",{attrs:{theme:"primary"},on:{change:t.approveChange},model:{value:t.intentCreate.intentForm.approve,callback:function(e){t.$set(t.intentCreate.intentForm,"approve",e)},expression:"intentCreate.intentForm.approve"}})],1),t._v(" "),a("bk-form-item",{directives:[{name:"show",rawName:"v-show",value:t.intentCreate.intentForm.approve,expression:"intentCreate.intentForm.approve"}],attrs:{label:"审批人",property:"authorityUsername",desc:"回车确认输入完成"}},[a("bk-member-selector",{model:{value:t.intentCreate.intentForm.approver,callback:function(e){t.$set(t.intentCreate.intentForm,"approver",e)},expression:"intentCreate.intentForm.approver"}})],1)],1)],1)])],1)],1)],1)],1)],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("bk-button",{staticStyle:{"margin-left":"30px"},attrs:{theme:"primary",loading:t.intentCreate.loading,disabled:t.disableConfirmButton},on:{click:function(e){return t.dialogValidate("intentCreate","intentCreateRef")}}},[t._v("确定\n            ")]),t._v(" "),a("bk-button",{attrs:{theme:"default"},on:{click:function(e){t.intentCreate.visible=false}}},[t._v("关闭")])],1)]),t._v(" "),a("bk-dialog",{attrs:{theme:"primary","header-position":"left",title:"参数配置","auto-close":false,loading:t.taskParamsConfig.loading},on:{confirm:function(e){return t.dialogValidate("taskParamsConfig","taskParamsConfigRef")},cancel:function(e){return t.dialogCancel("taskParamsConfig")},"after-leave":function(e){return t.dialogClean("taskParamsConfig")}},model:{value:t.taskParamsConfig.visible,callback:function(e){t.$set(t.taskParamsConfig,"visible",e)},expression:"taskParamsConfig.visible"}},[a("bk-form",{ref:"taskParamsConfigRef",attrs:{"label-width":200,"form-type":"vertical",model:t.taskParamsConfig.form.data,rules:t.taskParamsConfig.form.rules}},[a("bk-form-item",{attrs:{label:"参数名称",required:true,property:"name"}},[a("bk-input",{attrs:{maxlength:"50",disabled:""},model:{value:t.taskParamsConfig.form.data.name,callback:function(e){t.$set(t.taskParamsConfig.form.data,"name",e)},expression:"taskParamsConfig.form.data.name"}})],1),t._v(" "),a("bk-form-item",{attrs:{label:"正则",required:true,property:"pattern"}},[a("bk-input",{model:{value:t.taskParamsConfig.form.data.pattern,callback:function(e){t.$set(t.taskParamsConfig.form.data,"pattern",e)},expression:"taskParamsConfig.form.data.pattern"}})],1),t._v(" "),a("bk-form-item",{attrs:{label:"提示语",required:true,property:"prompt"}},[a("bk-input",{model:{value:t.taskParamsConfig.form.data.prompt,callback:function(e){t.$set(t.taskParamsConfig.form.data,"prompt",e)},expression:"taskParamsConfig.form.data.prompt"}})],1),t._v(" "),a("bk-form-item",{attrs:{label:"默认值",property:"prompt"}},[a("bk-input",{model:{value:t.taskParamsConfig.form.data.value,callback:function(e){t.$set(t.taskParamsConfig.form.data,"value",e)},expression:"taskParamsConfig.form.data.value"}})],1),t._v(" "),a("bk-form-item",{attrs:{label:"正则测试"}},[a("bk-input",{attrs:{placeholder:"请输入验证参数"},model:{value:t.taskParamsConfig.test,callback:function(e){t.$set(t.taskParamsConfig,"test",e)},expression:"taskParamsConfig.test"}},[a("template",{slot:"append"},[a("bk-button",{staticStyle:{border:"none",height:"30px","border-radius":"0"},attrs:{theme:"primary"},on:{click:function(e){return t.testPattern()}}},[t._v("测试")])],1)],2)],1)],1)],1)],1)};var i=[]},596:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("div",[a("bk-sideslider",{attrs:{"is-show":t.slideSlider.isShow,"quick-close":true,width:"740","before-close":t.beforeClose},on:{"update:isShow":function(e){return t.$set(t.slideSlider,"isShow",e)},"update:is-show":function(e){return t.$set(t.slideSlider,"isShow",e)}}},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.slideSlider.title))]),t._v(" "),a("div",{staticClass:"p20",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"firstStepForm"},[a("bk-form",{ref:"pluginFirstDataRef",attrs:{model:t.pluginData}},[a("bk-form-item",{staticClass:"StepFormTitle"},[a("div",[t._v("插件基础信息")])]),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"插件图标",rules:t.rules.pluginIcon,property:"plugin_icon","error-display-type":"normal"}},t._l(t.iconList,function(e,n){return a("img",t._b({key:n,class:{plugin_icon_selected:e===t.pluginData.plugin_icon,plugin_icon:e!==t.pluginData.plugin_icon},attrs:{src:"/static/images/plugin_icon/"+e+".png"},on:{click:function(a){return t.selectIcon(e)}}},"img",e,false))}),0),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"插件名称",rules:t.rules.pluginName,property:"plugin_name","error-display-type":"normal"}},[a("bk-input",{attrs:{placeholder:"请输入插件名称",clearable:true,disabled:t.isCheckDetail},model:{value:t.pluginData.plugin_name,callback:function(e){t.$set(t.pluginData,"plugin_name",e)},expression:"pluginData.plugin_name"}})],1),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"插件类型",rules:t.rules.pluginType,property:"plugin_type","error-display-type":"normal"}},[a("bk-radio-group",{model:{value:t.pluginData.plugin_type,callback:function(e){t.$set(t.pluginData,"plugin_type",e)},expression:"pluginData.plugin_type"}},[a("bk-radio",{staticStyle:{"margin-right":"15px"},attrs:{value:1,disabled:t.isCheckDetail}},[t._v("公有")]),t._v(" "),a("bk-radio",{attrs:{value:0,disabled:t.isCheckDetail}},[t._v("私有")])],1)],1),t._v(" "),t.pluginData.plugin_type===0?a("bk-form-item",{attrs:{label:"适用业务",rules:t.rules.bizList,property:"bizList","error-display-type":"normal"}},[a("bk-select",{attrs:{searchable:"",multiple:"",placeholder:"请选择业务",disabled:t.isCheckDetail},model:{value:t.pluginData.biz_list,callback:function(e){t.$set(t.pluginData,"biz_list",e)},expression:"pluginData.biz_list"}},t._l(t.bizList,function(t){return a("bk-option",{key:t.bk_biz_id,attrs:{id:t.bk_biz_id,name:"["+t.bk_biz_id+"]"+t.bk_biz_name}})}),1)],1):t._e(),t._v(" "),a("bk-form-item",{attrs:{label:"管理人员",rules:t.rules.developers,property:"developers","error-display-type":"normal"}},[a("bk-member-selector",{attrs:{"show-chinese":true,placeholder:"请选择管理人员",disabled:t.isCheckDetail},model:{value:t.pluginData.developers,callback:function(e){t.$set(t.pluginData,"developers",e)},expression:"pluginData.developers"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"secondStepForm"},[a("bk-form",{ref:"pluginSecondDataRef",staticStyle:{"justify-content":"center","align-items":"center"},attrs:{model:t.pluginData}},[a("bk-form-item",{staticClass:"StepFormTitle",attrs:{required:true}},[a("div",[t._v("插件配置")])]),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"插件key",rules:t.rules.pluginKey,property:"plugin_key","error-display-type":"normal"}},[a("bk-input",{attrs:{placeholder:"插件 Key 支持输入英文大写字母 A-Z / 数字 / 中划线 '-'",clearable:true,disabled:t.disablePluginKey||t.isCheckDetail},model:{value:t.pluginData.plugin_key,callback:function(e){t.$set(t.pluginData,"plugin_key",e)},expression:"pluginData.plugin_key"}})],1),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"插件地址",rules:t.rules.pluginAddr,property:"plugin_addr","error-display-type":"normal"}},[a("bk-input",{attrs:{placeholder:"格式为：域名:端口",clearable:true,disabled:t.isCheckDetail},model:{value:t.pluginData.plugin_addr,callback:function(e){t.$set(t.pluginData,"plugin_addr",e)},expression:"pluginData.plugin_addr"}})],1),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"插件描述",rules:t.rules.pluginDesc,property:"plugin_desc","error-display-type":"normal"}},[a("bk-input",{attrs:{placeholder:"请输入插件描述",clearable:true,disabled:t.isCheckDetail},model:{value:t.pluginData.plugin_desc,callback:function(e){t.$set(t.pluginData,"plugin_desc",e)},expression:"pluginData.plugin_desc"}})],1),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"插件标签",rules:t.rules.pluginTag,property:"plugin_tag","error-display-type":"normal"}},[a("bk-select",{attrs:{searchable:"",placeholder:"请选择插件标签",disabled:t.isCheckDetail},model:{value:t.pluginData.plugin_tag,callback:function(e){t.$set(t.pluginData,"plugin_tag",e)},expression:"pluginData.plugin_tag"}},t._l(t.pluginTagList,function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})}),1)],1),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"业务选择",rules:t.rules.chooseBiz,property:"choose_biz","error-display-type":"normal"}},[a("bk-radio-group",{attrs:{disabled:t.isCheckDetail},model:{value:t.pluginData.choose_biz,callback:function(e){t.$set(t.pluginData,"choose_biz",e)},expression:"pluginData.choose_biz"}},[a("bk-radio",{staticStyle:{"margin-right":"15px"},attrs:{value:0,disabled:t.isCheckDetail}},[t._v("不包含")]),t._v(" "),a("bk-radio",{attrs:{value:1,disabled:t.isCheckDetail}},[t._v("包含")])],1)],1),t._v(" "),a("bk-form-item",{attrs:{required:true,label:"参数配置",rules:t.rules.jsonValue,property:"jsonValue","error-display-type":"normal"}},[a("div",{staticStyle:{height:"400px"}},[a("code-editor",{ref:"JsonEditor",staticStyle:{width:"100%"},attrs:{value:t.pluginData.jsonValue,options:t.jsonEditorOptions},on:{"json-value-change":t.changeJsonValue}})],1)])],1)],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[!t.isCheckDetail?a("bk-button",{staticStyle:{"margin-left":"30px"},attrs:{theme:"primary"},on:{click:t.checkPluginData}},[t._v("保存\n            ")]):t._e(),t._v(" "),!t.isCheckDetail?a("bk-button",{attrs:{theme:"default"},on:{click:t.getExitDialog}},[t._v("取消")]):t._e()],1)]),t._v(" "),a("bk-dialog",{staticStyle:{"z-index":"99999"},attrs:{"header-position":t.confirmDialog.headerPosition,width:t.confirmDialog.width},on:{confirm:t.confirmCreatePlugin},model:{value:t.confirmDialog.visible,callback:function(e){t.$set(t.confirmDialog,"visible",e)},expression:"confirmDialog.visible"}},[a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("div",{staticClass:"confirmTitle"},[t._v("确定要创建该插件吗？")])])]),t._v(" "),a("bk-dialog",{staticStyle:{"z-index":"99999"},attrs:{"header-position":t.exitDialog.headerPosition,width:t.exitDialog.width},on:{confirm:t.exitCreatePlugin},model:{value:t.exitDialog.visible,callback:function(e){t.$set(t.exitDialog,"visible",e)},expression:"exitDialog.visible"}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"confirmTitle"},[t._v("确定要退出新增插件吗？")]),t._v(" "),a("div",{staticClass:"confirmInfo"},[t._v("退出后不保存表单数据，请谨慎操作")])])]),t._v(" "),a("bk-dialog",{staticStyle:{"z-index":"99999"},attrs:{"header-position":t.confirmEditDialog.headerPosition,width:t.confirmEditDialog.width},on:{confirm:t.confirmEditPlugin},model:{value:t.confirmEditDialog.visible,callback:function(e){t.$set(t.confirmEditDialog,"visible",e)},expression:"confirmEditDialog.visible"}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"confirmTitle"},[t._v("确定要编辑插件吗？")])])]),t._v(" "),a("bk-dialog",{staticStyle:{"z-index":"99999",display:"flex"},attrs:{"header-position":t.exitEditDialog.headerPosition,width:t.exitEditDialog.width},on:{confirm:t.exitEditPlugin},model:{value:t.exitEditDialog.visible,callback:function(e){t.$set(t.exitEditDialog,"visible",e)},expression:"exitEditDialog.visible"}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticClass:"confirmTitle"},[t._v("确定要退出编辑插件吗？")])])])],1)};var i=[]},597:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a.d(e,"b",function(){return i});var n=function(){var t=this;var e=t.$createElement;var a=t._self._c||e;return a("section",{staticClass:"code-editor"})};var i=[]},75:function(t,e,a){"use strict";a.r(e);var n=a(589);var i=a(302);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(485);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=l.exports},76:function(t,e,a){"use strict";a.r(e);var n=a(580);var i=a(264);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(451);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=l.exports},77:function(t,e,a){"use strict";a.r(e);var n=a(581);var i=a(267);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(3);var o=Object(s["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=o.exports},79:function(t,e,a){"use strict";a.r(e);var n=a(583);var i=a(272);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(453);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=l.exports},80:function(t,e,a){"use strict";a.r(e);var n=a(584);var i=a(277);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(457);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=l.exports},81:function(t,e,a){"use strict";a.r(e);var n=a(585);var i=a(283);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(458);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=l.exports},82:function(t,e,a){"use strict";a.r(e);var n=a(586);var i=a(286);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(459);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=l.exports},83:function(t,e,a){"use strict";a.r(e);var n=a(587);var i=a(289);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(484);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,"048be868",null);e["default"]=l.exports},84:function(t,e,a){"use strict";a.r(e);var n=a(588);var i=a(300);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(487);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,"6454eabe",null);e["default"]=l.exports},85:function(t,e,a){"use strict";a.r(e);var n=a(590);var i=a(306);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(491);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,"0333897b",null);e["default"]=l.exports},86:function(t,e,a){"use strict";a.r(e);var n=a(591);var i=a(309);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(571);var o=a(3);var l=Object(o["a"])(i["default"],n["a"],n["b"],false,null,"101c26c8",null);e["default"]=l.exports},87:function(t,e,a){"use strict";a.r(e);var n=a(592);var i=a(363);for(var r in i)if(r!=="default")(function(t){a.d(e,t,function(){return i[t]})})(r);var s=a(3);var o=Object(s["a"])(i["default"],n["a"],n["b"],false,null,null,null);e["default"]=o.exports}}]);